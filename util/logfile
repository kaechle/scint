2023-08-19 15:19:23 | INFO     | core.processor:parse_env:10 - Initializing environment.
2023-08-19 15:19:24 | INFO     | core.processor:parse_env:10 - Initializing environment.
2023-08-19 15:19:25 | INFO     | core.processor:parse_env:10 - Initializing environment.
2023-08-19 15:21:21 | INFO     | core.processor:parse_env:10 - Initializing environment.
2023-08-19 15:21:22 | INFO     | core.processor:parse_env:10 - Initializing environment.
2023-08-19 15:21:23 | INFO     | core.processor:parse_env:10 - Initializing environment.
2023-08-19 15:21:27 | INFO     | core.processor:parse_env:10 - Initializing environment.
2023-08-19 15:22:36 | INFO     | core.processor:parse_env:10 - Initializing environment.
2023-08-19 15:25:47 | INFO     | core.processor:parse_env:10 - Initializing environment.
2023-08-19 15:26:35 | INFO     | core.processor:parse_env:10 - Initializing environment.
2023-08-19 15:30:33 | INFO     | core.processor:parse_env:10 - Initializing environment.
2023-08-19 15:30:54 | INFO     | core.processor:parse_env:10 - Initializing environment.
2023-08-19 15:31:28 | INFO     | core.processor:parse_env:10 - Initializing environment.
2023-08-19 15:32:27 | INFO     | core.processor:parse_env:10 - Initializing environment.
2023-08-19 15:33:50 | INFO     | core.processor:parse_env:10 - Initializing environment.
2023-08-19 15:45:55 | INFO     | core.processor:parse_env:10 - Initializing environment.
2023-08-19 15:46:13 | INFO     | core.processor:parse_env:10 - Initializing environment.
2023-08-19 15:46:22 | INFO     | core.processor:parse_env:10 - Initializing environment.
2023-08-19 15:46:59 | INFO     | core.processor:parse_env:10 - Initializing environment.
2023-08-19 15:48:54 | INFO     | core.processor:parse_env:10 - Initializing environment.
2023-08-19 15:50:50 | INFO     | core.processor:parse_env:10 - Initializing environment.
2023-08-19 15:51:32 | INFO     | core.processor:parse_env:10 - Initializing environment.
2023-08-19 15:55:39 | INFO     | core.processor:parse_env:10 - Initializing environment.
2023-08-19 16:09:03 | INFO     | core.processor:parse_env:10 - Initializing environment.
2023-08-19 16:09:04 | INFO     | core.processor:parse_env:10 - Initializing environment.
2023-08-19 16:09:05 | INFO     | core.processor:parse_env:10 - Initializing environment.
2023-08-19 16:09:54 | INFO     | core.processor:parse_env:10 - Initializing environment.
2023-08-19 16:11:13 | INFO     | core.processor:parse_env:10 - Initializing environment.
2023-08-19 16:36:14 | INFO     | core.processor:parse_env:10 - Initializing environment.
2023-08-19 17:13:12 | INFO     | core.processor:parse_env:10 - Initializing environment.
2023-08-19 17:15:02 | INFO     | core.processor:parse_env:10 - Initializing environment.
2023-08-19 17:15:19 | INFO     | core.processor:parse_env:10 - Initializing environment.
2023-08-19 22:43:20 | INFO     | core.processor:parse_env:10 - Initializing environment.
2023-08-21 22:21:03 | INFO     | core.processor:parse_env:10 - Initializing environment.
2023-08-21 22:28:54 | INFO     | core.processor:parse_env:10 - Initializing environment.
2023-08-21 22:31:12 | INFO     | core.processor:parse_env:10 - Initializing environment.
2023-08-21 22:37:06 | INFO     | core.processor:parse_env:10 - Initializing environment.
2023-08-21 22:39:11 | INFO     | core.processor:parse_env:10 - Initializing environment.
2023-08-21 22:39:16 | INFO     | core.processor:parse_env:10 - Initializing environment.
2023-08-21 22:39:25 | INFO     | core.processor:parse_env:10 - Initializing environment.
2023-08-21 22:40:35 | INFO     | core.processor:parse_env:10 - Initializing environment.
2023-08-21 22:41:18 | INFO     | core.processor:parse_env:10 - Initializing environment.
2023-08-21 22:41:22 | INFO     | core.processor:parse_env:10 - Initializing environment.
2023-08-21 22:41:39 | INFO     | core.processor:parse_env:10 - Initializing environment.
2023-08-21 22:41:57 | INFO     | core.processor:parse_env:10 - Initializing environment.
2023-08-21 22:42:39 | INFO     | core.processor:parse_env:10 - Initializing environment.
2023-08-21 22:59:36 | INFO     | core.processor:parse_env:10 - Initializing environment.
2023-08-21 22:59:38 | ERROR    | core.chat:chat:65 - There was no response from the assistant: 'function_call'
Traceback (most recent call last):

  File "/Users/kaechle/Developer/projects/scint/main.py", line 55, in <module>
    asyncio.run(cli())
    │       │   └ <function cli at 0x1043163e0>
    │       └ <function run at 0x1029c3060>
    └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/as...

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object cli at 0x103810dc0>
           │      └ <function Runner.run at 0x1029cb240>
           └ <asyncio.runners.Runner object at 0x1029e2410>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<cli() running at /Users/kaechle/Developer/projects/scint/main.py:44> cb=[_run_until_complet...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x1029c8ea0>
           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x1029e2410>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x1029c8e00>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x1029cac00>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 1922, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x102908fe0>
    └ <Handle <TaskStepMethWrapper object at 0x103876c50>()>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x103876c50>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x103876c50>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x103876c50>()>

  File "/Users/kaechle/Developer/projects/scint/main.py", line 44, in cli
    response = await chat(user_message)
                     │    └ 'Hello. Just a test.'
                     └ <function chat at 0x1043162a0>

> File "/Users/kaechle/Developer/projects/scint/core/chat.py", line 58, in chat
    if data["message"]["function_call"] is not None:
       └ <OpenAIObject at 0x10432e390> JSON: {
           "index": 0,
           "message": {
             "role": "assistant",
             "content": "Hello Tim! How ca...

KeyError: 'function_call'
2023-08-21 22:59:38 | ERROR    | __main__:cli:47 - Error communicating with the assistant: 'function_call'

Traceback (most recent call last):

  File "/Users/kaechle/Developer/projects/scint/main.py", line 55, in <module>
    asyncio.run(cli())
    │       │   └ <function cli at 0x1043163e0>
    │       └ <function run at 0x1029c3060>
    └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/as...

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object cli at 0x103810dc0>
           │      └ <function Runner.run at 0x1029cb240>
           └ <asyncio.runners.Runner object at 0x1029e2410>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<cli() running at /Users/kaechle/Developer/projects/scint/main.py:47> cb=[_run_until_complet...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x1029c8ea0>
           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x1029e2410>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x1029c8e00>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x1029cac00>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 1922, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x102908fe0>
    └ <Handle <TaskStepMethWrapper object at 0x103876c50>()>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x103876c50>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x103876c50>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x103876c50>()>

> File "/Users/kaechle/Developer/projects/scint/main.py", line 44, in cli
    response = await chat(user_message)
                     │    └ 'Hello. Just a test.'
                     └ <function chat at 0x1043162a0>

  File "/Users/kaechle/Developer/projects/scint/core/chat.py", line 58, in chat
    if data["message"]["function_call"] is not None:
       └ <OpenAIObject at 0x10432e390> JSON: {
           "index": 0,
           "message": {
             "role": "assistant",
             "content": "Hello Tim! How ca...

KeyError: 'function_call'
2023-08-21 23:04:45 | INFO     | core.processor:parse_env:10 - Initializing environment.
2023-08-21 23:04:48 | ERROR    | core.chat:chat:65 - There was no response from the assistant: 'function_call'
Traceback (most recent call last):

  File "/Users/kaechle/Developer/projects/scint/main.py", line 55, in <module>
    asyncio.run(cli())
    │       │   └ <function cli at 0x102fc63e0>
    │       └ <function run at 0x101343060>
    └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/as...

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object cli at 0x102270dc0>
           │      └ <function Runner.run at 0x10134b240>
           └ <asyncio.runners.Runner object at 0x101362410>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<cli() running at /Users/kaechle/Developer/projects/scint/main.py:44> cb=[_run_until_complet...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x101348ea0>
           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x101362410>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x101348e00>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10134ac00>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 1922, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x101288fe0>
    └ <Handle <TaskStepMethWrapper object at 0x102b64850>()>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x102b64850>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x102b64850>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x102b64850>()>

  File "/Users/kaechle/Developer/projects/scint/main.py", line 44, in cli
    response = await chat(user_message)
                     │    └ 'Write me a haiku.'
                     └ <function chat at 0x102fc62a0>

> File "/Users/kaechle/Developer/projects/scint/core/chat.py", line 55, in chat
    if data["message"]["function_call"] is True and not None:
       └ <OpenAIObject at 0x102fde390> JSON: {
           "index": 0,
           "message": {
             "role": "assistant",
             "content": "Winter's frosty t...

KeyError: 'function_call'
2023-08-21 23:04:48 | ERROR    | __main__:cli:47 - Error communicating with the assistant: 'function_call'

Traceback (most recent call last):

  File "/Users/kaechle/Developer/projects/scint/main.py", line 55, in <module>
    asyncio.run(cli())
    │       │   └ <function cli at 0x102fc63e0>
    │       └ <function run at 0x101343060>
    └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/as...

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object cli at 0x102270dc0>
           │      └ <function Runner.run at 0x10134b240>
           └ <asyncio.runners.Runner object at 0x101362410>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<cli() running at /Users/kaechle/Developer/projects/scint/main.py:47> cb=[_run_until_complet...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x101348ea0>
           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x101362410>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x101348e00>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10134ac00>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 1922, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x101288fe0>
    └ <Handle <TaskStepMethWrapper object at 0x102b64850>()>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x102b64850>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x102b64850>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x102b64850>()>

> File "/Users/kaechle/Developer/projects/scint/main.py", line 44, in cli
    response = await chat(user_message)
                     │    └ 'Write me a haiku.'
                     └ <function chat at 0x102fc62a0>

  File "/Users/kaechle/Developer/projects/scint/core/chat.py", line 55, in chat
    if data["message"]["function_call"] is True and not None:
       └ <OpenAIObject at 0x102fde390> JSON: {
           "index": 0,
           "message": {
             "role": "assistant",
             "content": "Winter's frosty t...

KeyError: 'function_call'
2023-08-21 23:06:08 | INFO     | core.processor:parse_env:10 - Initializing environment.
2023-08-21 23:06:10 | ERROR    | core.chat:chat:65 - There was no response from the assistant: 'function_call'
Traceback (most recent call last):

  File "/Users/kaechle/Developer/projects/scint/main.py", line 55, in <module>
    asyncio.run(cli())
    │       │   └ <function cli at 0x1024de3e0>
    │       └ <function run at 0x100b8b060>
    └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/as...

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object cli at 0x1019d8dc0>
           │      └ <function Runner.run at 0x100b93240>
           └ <asyncio.runners.Runner object at 0x100babc10>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<cli() running at /Users/kaechle/Developer/projects/scint/main.py:44> cb=[_run_until_complet...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x100b90ea0>
           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x100babc10>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x100b90e00>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x100b92c00>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 1922, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x100ad0fe0>
    └ <Handle <TaskStepMethWrapper object at 0x102145300>()>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x102145300>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x102145300>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x102145300>()>

  File "/Users/kaechle/Developer/projects/scint/main.py", line 44, in cli
    response = await chat(user_message)
                     │    └ 'Write me a haiku!'
                     └ <function chat at 0x1024de2a0>

> File "/Users/kaechle/Developer/projects/scint/core/chat.py", line 55, in chat
    if data["function_call"] is True and not None:
       └ <OpenAIObject at 0x1024f6390> JSON: {
           "index": 0,
           "message": {
             "role": "assistant",
             "content": "A stream in the n...

KeyError: 'function_call'
2023-08-21 23:06:10 | ERROR    | __main__:cli:47 - Error communicating with the assistant: 'function_call'

Traceback (most recent call last):

  File "/Users/kaechle/Developer/projects/scint/main.py", line 55, in <module>
    asyncio.run(cli())
    │       │   └ <function cli at 0x1024de3e0>
    │       └ <function run at 0x100b8b060>
    └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/as...

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object cli at 0x1019d8dc0>
           │      └ <function Runner.run at 0x100b93240>
           └ <asyncio.runners.Runner object at 0x100babc10>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<cli() running at /Users/kaechle/Developer/projects/scint/main.py:47> cb=[_run_until_complet...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x100b90ea0>
           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x100babc10>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x100b90e00>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x100b92c00>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 1922, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x100ad0fe0>
    └ <Handle <TaskStepMethWrapper object at 0x102145300>()>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x102145300>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x102145300>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x102145300>()>

> File "/Users/kaechle/Developer/projects/scint/main.py", line 44, in cli
    response = await chat(user_message)
                     │    └ 'Write me a haiku!'
                     └ <function chat at 0x1024de2a0>

  File "/Users/kaechle/Developer/projects/scint/core/chat.py", line 55, in chat
    if data["function_call"] is True and not None:
       └ <OpenAIObject at 0x1024f6390> JSON: {
           "index": 0,
           "message": {
             "role": "assistant",
             "content": "A stream in the n...

KeyError: 'function_call'
2023-08-21 23:09:53 | INFO     | core.processor:parse_env:10 - Initializing environment.
2023-08-21 23:11:04 | INFO     | core.processor:parse_env:10 - Initializing environment.
2023-08-21 23:45:18 | INFO     | core.processor:parse_env:11 - Initializing environment.
2023-08-22 00:02:30 | INFO     | core.processor:parse_env:11 - Initializing environment.
2023-08-22 00:07:58 | INFO     | core.chat:chat:46 - Initiating chat call.
2023-08-22 00:07:58 | INFO     | core.processor:parse_env:11 - Initializing environment.
2023-08-22 00:14:15 | INFO     | core.chat:chat:46 - Initiating chat call.
2023-08-22 00:14:15 | INFO     | core.processor:parse_env:11 - Initializing environment.
2023-08-22 00:16:44 | INFO     | core.chat:chat:46 - Initiating chat call.
2023-08-22 00:16:44 | INFO     | core.processor:parse_env:11 - Initializing environment.
2023-08-22 00:22:55 | INFO     | core.chat:chat:46 - Initiating chat call.
2023-08-22 00:22:55 | INFO     | core.processor:parse_env:11 - Initializing environment.
2023-08-22 00:27:31 | INFO     | core.chat:chat:46 - Initiating chat call.
2023-08-22 00:27:31 | INFO     | core.processor:parse_env:11 - Initializing environment.
2023-08-22 00:31:39 | INFO     | core.chat:chat:46 - Initiating chat call.
2023-08-22 00:31:39 | INFO     | core.processor:parse_env:11 - Initializing environment.
2023-08-22 00:40:18 | INFO     | core.chat:MessageHandler:16 - Calling message handler.
2023-08-22 00:40:27 | INFO     | core.chat:chat:49 - Initiating chat call.
2023-08-22 00:40:27 | INFO     | core.chat:build_manifest:35 - Building message manifest.
2023-08-22 00:40:27 | INFO     | core.processor:parse_env:11 - Parsing environment.
2023-08-22 00:43:26 | INFO     | core.chat:MessageHandler:16 - Calling message handler.
2023-08-22 00:43:30 | INFO     | core.chat:chat:49 - Initiating chat call.
2023-08-22 00:43:30 | INFO     | core.chat:build_manifest:35 - Building message manifest.
2023-08-22 00:43:30 | INFO     | core.processor:parse_env:11 - Parsing environment.
2023-08-22 00:48:39 | INFO     | core.chat:MessageHandler:16 - Calling message handler.
2023-08-22 00:48:51 | INFO     | core.chat:chat:49 - Initiating chat call.
2023-08-22 00:48:51 | INFO     | core.chat:build_manifest:35 - Building message manifest.
2023-08-22 00:48:51 | INFO     | core.processor:parse_env:11 - Parsing environment.
2023-08-22 00:48:51 | INFO     | core.processor:parse_env:15 - Running tree subprocess.
2023-08-22 00:52:22 | INFO     | core.chat:MessageHandler:16 - Calling message handler.
2023-08-22 00:52:31 | INFO     | core.chat:chat:49 - Initiating chat call.
2023-08-22 00:52:31 | INFO     | core.chat:build_manifest:35 - Building message manifest.
2023-08-22 00:52:31 | INFO     | core.processor:parse_env:11 - Parsing environment.
2023-08-22 00:55:55 | INFO     | core.chat:MessageHandler:16 - Calling message handler.
2023-08-22 00:56:06 | INFO     | core.chat:chat:50 - Initiating chat call.
2023-08-22 00:56:06 | INFO     | core.chat:build_manifest:35 - Building message manifest.
2023-08-22 00:56:06 | INFO     | core.processor:parse_env:11 - Parsing environment.
2023-08-22 00:56:06 | INFO     | core.processor:parse_env:15 - Running tree subprocess.
2023-08-22 00:56:06 | INFO     | core.processor:parse_env:11 - Parsing environment.
2023-08-22 00:56:06 | INFO     | core.processor:parse_env:15 - Running tree subprocess.
2023-08-22 00:59:49 | INFO     | core.chat:MessageHandler:16 - Calling message handler.
2023-08-22 00:59:57 | INFO     | core.chat:chat:44 - Initiating chat call.
2023-08-22 00:59:57 | INFO     | core.chat:build_manifest:31 - Building message manifest.
2023-08-22 00:59:57 | INFO     | core.processor:parse_env:11 - Parsing environment.
2023-08-22 00:59:57 | INFO     | core.processor:parse_env:15 - Running tree subprocess.
2023-08-22 01:03:14 | INFO     | core.chat:MessageHandler:16 - Calling message handler.
2023-08-22 01:03:22 | INFO     | core.chat:chat:46 - Initiating chat call.
2023-08-22 01:03:22 | INFO     | core.chat:build_manifest:31 - Building message manifest.
2023-08-22 01:03:22 | ERROR    | core.chat:chat:79 - There was no response from the assistant: 'role' is not of type 'object' - 'messages.0'
Traceback (most recent call last):

  File "/Users/kaechle/Developer/projects/scint/main.py", line 55, in <module>
    asyncio.run(cli())
    │       │   └ <function cli at 0x104d185e0>
    │       └ <function run at 0x102db3060>
    └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/as...

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object cli at 0x103c38dc0>
           │      └ <function Runner.run at 0x102dbb240>
           └ <asyncio.runners.Runner object at 0x1027c0410>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<cli() running at /Users/kaechle/Developer/projects/scint/main.py:44> cb=[_run_until_complet...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x102db8ea0>
           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x1027c0410>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x102db8e00>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x102dbac00>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 1922, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x102cf8fe0>
    └ <Handle <TaskStepMethWrapper object at 0x104deb5b0>()>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x104deb5b0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x104deb5b0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x104deb5b0>()>

  File "/Users/kaechle/Developer/projects/scint/main.py", line 44, in cli
    response = await chat(user_message)
                     │    └ 'Search the web for htmx documentation for me'
                     └ <function chat at 0x1046aa840>

> File "/Users/kaechle/Developer/projects/scint/core/chat.py", line 53, in chat
    response = await openai(messages, functions)  # type: ignore
                     │      │         └ [{'name': 'google_search', 'description': 'Use this function to run a Google search for the user.', 'parameters': {'type': 'o...
                     │      └ ['role', 'content', 'name', {'role': 'user', 'content': 'Search the web for htmx documentation for me', 'name': 'Tim'}]
                     └ <function openai at 0x1046aa5c0>

  File "/Users/kaechle/Developer/projects/scint/core/data/providers/models.py", line 18, in openai
    response = await ChatCompletion.acreate(
                     │              └ <classmethod(<function ChatCompletion.acreate at 0x104bf6200>)>
                     └ <class 'openai.api_resources.chat_completion.ChatCompletion'>

  File "/Users/kaechle/Library/Caches/pypoetry/virtualenvs/scint-tXXp93ol-py3.11/lib/python3.11/site-packages/openai/api_resources/chat_completion.py", line 45, in acreate
    return await super().acreate(*args, **kwargs)
                                  │       └ {'model': 'gpt-4-0613', 'temperature': 1.6, 'top_p': 0.7, 'frequency_penalty': 0.35, 'presence_penalty': 0.35, 'logit_bias': ...
                                  └ ()
  File "/Users/kaechle/Library/Caches/pypoetry/virtualenvs/scint-tXXp93ol-py3.11/lib/python3.11/site-packages/openai/api_resources/abstract/engine_api_resource.py", line 217, in acreate
    response, _, api_key = await requestor.arequest(
                                 │         └ <function APIRequestor.arequest at 0x104bf5a80>
                                 └ <openai.api_requestor.APIRequestor object at 0x1045b7d10>
  File "/Users/kaechle/Library/Caches/pypoetry/virtualenvs/scint-tXXp93ol-py3.11/lib/python3.11/site-packages/openai/api_requestor.py", line 382, in arequest
    resp, got_stream = await self._interpret_async_response(result, stream)
                             │    │                         │       └ False
                             │    │                         └ <ClientResponse(https://api.openai.com/v1/chat/completions) [400 Bad Request]>
                             │    │                           <CIMultiDictProxy('Date': 'Tue, 22 Aug 2023 04...
                             │    └ <function APIRequestor._interpret_async_response at 0x104bf5f80>
                             └ <openai.api_requestor.APIRequestor object at 0x1045b7d10>
  File "/Users/kaechle/Library/Caches/pypoetry/virtualenvs/scint-tXXp93ol-py3.11/lib/python3.11/site-packages/openai/api_requestor.py", line 726, in _interpret_async_response
    self._interpret_response_line(
    │    └ <function APIRequestor._interpret_response_line at 0x104bf6020>
    └ <openai.api_requestor.APIRequestor object at 0x1045b7d10>
  File "/Users/kaechle/Library/Caches/pypoetry/virtualenvs/scint-tXXp93ol-py3.11/lib/python3.11/site-packages/openai/api_requestor.py", line 763, in _interpret_response_line
    raise self.handle_error_response(
          │    └ <function APIRequestor.handle_error_response at 0x104bf5b20>
          └ <openai.api_requestor.APIRequestor object at 0x1045b7d10>

openai.error.InvalidRequestError: 'role' is not of type 'object' - 'messages.0'
2023-08-22 01:03:22 | ERROR    | __main__:cli:47 - Error communicating with the assistant: 'role' is not of type 'object' - 'messages.0'

Traceback (most recent call last):

  File "/Users/kaechle/Developer/projects/scint/main.py", line 55, in <module>
    asyncio.run(cli())
    │       │   └ <function cli at 0x104d185e0>
    │       └ <function run at 0x102db3060>
    └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/as...

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object cli at 0x103c38dc0>
           │      └ <function Runner.run at 0x102dbb240>
           └ <asyncio.runners.Runner object at 0x1027c0410>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<cli() running at /Users/kaechle/Developer/projects/scint/main.py:47> cb=[_run_until_complet...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x102db8ea0>
           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x1027c0410>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x102db8e00>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x102dbac00>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 1922, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x102cf8fe0>
    └ <Handle <TaskStepMethWrapper object at 0x104deb5b0>()>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x104deb5b0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x104deb5b0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x104deb5b0>()>

> File "/Users/kaechle/Developer/projects/scint/main.py", line 44, in cli
    response = await chat(user_message)
                     │    └ 'Search the web for htmx documentation for me'
                     └ <function chat at 0x1046aa840>

  File "/Users/kaechle/Developer/projects/scint/core/chat.py", line 53, in chat
    response = await openai(messages, functions)  # type: ignore
                     │      │         └ [{'name': 'google_search', 'description': 'Use this function to run a Google search for the user.', 'parameters': {'type': 'o...
                     │      └ ['role', 'content', 'name', {'role': 'user', 'content': 'Search the web for htmx documentation for me', 'name': 'Tim'}]
                     └ <function openai at 0x1046aa5c0>

  File "/Users/kaechle/Developer/projects/scint/core/data/providers/models.py", line 18, in openai
    response = await ChatCompletion.acreate(
                     │              └ <classmethod(<function ChatCompletion.acreate at 0x104bf6200>)>
                     └ <class 'openai.api_resources.chat_completion.ChatCompletion'>

  File "/Users/kaechle/Library/Caches/pypoetry/virtualenvs/scint-tXXp93ol-py3.11/lib/python3.11/site-packages/openai/api_resources/chat_completion.py", line 45, in acreate
    return await super().acreate(*args, **kwargs)
                                  │       └ {'model': 'gpt-4-0613', 'temperature': 1.6, 'top_p': 0.7, 'frequency_penalty': 0.35, 'presence_penalty': 0.35, 'logit_bias': ...
                                  └ ()
  File "/Users/kaechle/Library/Caches/pypoetry/virtualenvs/scint-tXXp93ol-py3.11/lib/python3.11/site-packages/openai/api_resources/abstract/engine_api_resource.py", line 217, in acreate
    response, _, api_key = await requestor.arequest(
                                 │         └ <function APIRequestor.arequest at 0x104bf5a80>
                                 └ <openai.api_requestor.APIRequestor object at 0x1045b7d10>
  File "/Users/kaechle/Library/Caches/pypoetry/virtualenvs/scint-tXXp93ol-py3.11/lib/python3.11/site-packages/openai/api_requestor.py", line 382, in arequest
    resp, got_stream = await self._interpret_async_response(result, stream)
                             │    │                         │       └ False
                             │    │                         └ <ClientResponse(https://api.openai.com/v1/chat/completions) [400 Bad Request]>
                             │    │                           <CIMultiDictProxy('Date': 'Tue, 22 Aug 2023 04...
                             │    └ <function APIRequestor._interpret_async_response at 0x104bf5f80>
                             └ <openai.api_requestor.APIRequestor object at 0x1045b7d10>
  File "/Users/kaechle/Library/Caches/pypoetry/virtualenvs/scint-tXXp93ol-py3.11/lib/python3.11/site-packages/openai/api_requestor.py", line 726, in _interpret_async_response
    self._interpret_response_line(
    │    └ <function APIRequestor._interpret_response_line at 0x104bf6020>
    └ <openai.api_requestor.APIRequestor object at 0x1045b7d10>
  File "/Users/kaechle/Library/Caches/pypoetry/virtualenvs/scint-tXXp93ol-py3.11/lib/python3.11/site-packages/openai/api_requestor.py", line 763, in _interpret_response_line
    raise self.handle_error_response(
          │    └ <function APIRequestor.handle_error_response at 0x104bf5b20>
          └ <openai.api_requestor.APIRequestor object at 0x1045b7d10>

openai.error.InvalidRequestError: 'role' is not of type 'object' - 'messages.0'
2023-08-22 01:08:55 | INFO     | core.chat:MessageHandler:16 - Calling message handler.
2023-08-22 01:09:03 | INFO     | core.chat:chat:47 - Initiating chat call.
2023-08-22 01:09:03 | INFO     | core.chat:build_manifest:31 - Building message manifest.
2023-08-22 01:09:04 | ERROR    | core.chat:chat:80 - There was no response from the assistant: 'content' is not of type 'object' - 'messages.0'
Traceback (most recent call last):

  File "/Users/kaechle/Developer/projects/scint/main.py", line 55, in <module>
    asyncio.run(cli())
    │       │   └ <function cli at 0x1049045e0>
    │       └ <function run at 0x10299f060>
    └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/as...

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object cli at 0x103824dc0>
           │      └ <function Runner.run at 0x1029a7240>
           └ <asyncio.runners.Runner object at 0x1023ac410>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<cli() running at /Users/kaechle/Developer/projects/scint/main.py:44> cb=[_run_until_complet...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x1029a4ea0>
           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x1023ac410>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x1029a4e00>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x1029a6c00>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 1922, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x1028e4fe0>
    └ <Handle <TaskStepMethWrapper object at 0x1046299f0>()>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x1046299f0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x1046299f0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x1046299f0>()>

  File "/Users/kaechle/Developer/projects/scint/main.py", line 44, in cli
    response = await chat(user_message)
                     │    └ 'Search the web for htmx docs.'
                     └ <function chat at 0x1042ba840>

> File "/Users/kaechle/Developer/projects/scint/core/chat.py", line 54, in chat
    response = await openai(messages, functions)  # type: ignore
                     │      │         └ [{'name': 'google_search', 'description': 'Use this function to run a Google search for the user.', 'parameters': {'type': 'o...
                     │      └ ['content', 'role', 'name', {'content': 'Search the web for htmx docs.', 'role': 'user', 'name': 'Tim'}]
                     └ <function openai at 0x1042ba5c0>

  File "/Users/kaechle/Developer/projects/scint/core/data/providers/models.py", line 18, in openai
    response = await ChatCompletion.acreate(
                     │              └ <classmethod(<function ChatCompletion.acreate at 0x1047ea200>)>
                     └ <class 'openai.api_resources.chat_completion.ChatCompletion'>

  File "/Users/kaechle/Library/Caches/pypoetry/virtualenvs/scint-tXXp93ol-py3.11/lib/python3.11/site-packages/openai/api_resources/chat_completion.py", line 45, in acreate
    return await super().acreate(*args, **kwargs)
                                  │       └ {'model': 'gpt-4-0613', 'temperature': 1.6, 'top_p': 0.7, 'frequency_penalty': 0.35, 'presence_penalty': 0.35, 'logit_bias': ...
                                  └ ()
  File "/Users/kaechle/Library/Caches/pypoetry/virtualenvs/scint-tXXp93ol-py3.11/lib/python3.11/site-packages/openai/api_resources/abstract/engine_api_resource.py", line 217, in acreate
    response, _, api_key = await requestor.arequest(
                                 │         └ <function APIRequestor.arequest at 0x1047e9a80>
                                 └ <openai.api_requestor.APIRequestor object at 0x103fd0190>
  File "/Users/kaechle/Library/Caches/pypoetry/virtualenvs/scint-tXXp93ol-py3.11/lib/python3.11/site-packages/openai/api_requestor.py", line 382, in arequest
    resp, got_stream = await self._interpret_async_response(result, stream)
                             │    │                         │       └ False
                             │    │                         └ <ClientResponse(https://api.openai.com/v1/chat/completions) [400 Bad Request]>
                             │    │                           <CIMultiDictProxy('Date': 'Tue, 22 Aug 2023 04...
                             │    └ <function APIRequestor._interpret_async_response at 0x1047e9f80>
                             └ <openai.api_requestor.APIRequestor object at 0x103fd0190>
  File "/Users/kaechle/Library/Caches/pypoetry/virtualenvs/scint-tXXp93ol-py3.11/lib/python3.11/site-packages/openai/api_requestor.py", line 726, in _interpret_async_response
    self._interpret_response_line(
    │    └ <function APIRequestor._interpret_response_line at 0x1047ea020>
    └ <openai.api_requestor.APIRequestor object at 0x103fd0190>
  File "/Users/kaechle/Library/Caches/pypoetry/virtualenvs/scint-tXXp93ol-py3.11/lib/python3.11/site-packages/openai/api_requestor.py", line 763, in _interpret_response_line
    raise self.handle_error_response(
          │    └ <function APIRequestor.handle_error_response at 0x1047e9b20>
          └ <openai.api_requestor.APIRequestor object at 0x103fd0190>

openai.error.InvalidRequestError: 'content' is not of type 'object' - 'messages.0'
2023-08-22 01:09:04 | ERROR    | __main__:cli:47 - Error communicating with the assistant: 'content' is not of type 'object' - 'messages.0'

Traceback (most recent call last):

  File "/Users/kaechle/Developer/projects/scint/main.py", line 55, in <module>
    asyncio.run(cli())
    │       │   └ <function cli at 0x1049045e0>
    │       └ <function run at 0x10299f060>
    └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/as...

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object cli at 0x103824dc0>
           │      └ <function Runner.run at 0x1029a7240>
           └ <asyncio.runners.Runner object at 0x1023ac410>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<cli() running at /Users/kaechle/Developer/projects/scint/main.py:47> cb=[_run_until_complet...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x1029a4ea0>
           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x1023ac410>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x1029a4e00>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x1029a6c00>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 1922, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x1028e4fe0>
    └ <Handle <TaskStepMethWrapper object at 0x1046299f0>()>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x1046299f0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x1046299f0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x1046299f0>()>

> File "/Users/kaechle/Developer/projects/scint/main.py", line 44, in cli
    response = await chat(user_message)
                     │    └ 'Search the web for htmx docs.'
                     └ <function chat at 0x1042ba840>

  File "/Users/kaechle/Developer/projects/scint/core/chat.py", line 54, in chat
    response = await openai(messages, functions)  # type: ignore
                     │      │         └ [{'name': 'google_search', 'description': 'Use this function to run a Google search for the user.', 'parameters': {'type': 'o...
                     │      └ ['content', 'role', 'name', {'content': 'Search the web for htmx docs.', 'role': 'user', 'name': 'Tim'}]
                     └ <function openai at 0x1042ba5c0>

  File "/Users/kaechle/Developer/projects/scint/core/data/providers/models.py", line 18, in openai
    response = await ChatCompletion.acreate(
                     │              └ <classmethod(<function ChatCompletion.acreate at 0x1047ea200>)>
                     └ <class 'openai.api_resources.chat_completion.ChatCompletion'>

  File "/Users/kaechle/Library/Caches/pypoetry/virtualenvs/scint-tXXp93ol-py3.11/lib/python3.11/site-packages/openai/api_resources/chat_completion.py", line 45, in acreate
    return await super().acreate(*args, **kwargs)
                                  │       └ {'model': 'gpt-4-0613', 'temperature': 1.6, 'top_p': 0.7, 'frequency_penalty': 0.35, 'presence_penalty': 0.35, 'logit_bias': ...
                                  └ ()
  File "/Users/kaechle/Library/Caches/pypoetry/virtualenvs/scint-tXXp93ol-py3.11/lib/python3.11/site-packages/openai/api_resources/abstract/engine_api_resource.py", line 217, in acreate
    response, _, api_key = await requestor.arequest(
                                 │         └ <function APIRequestor.arequest at 0x1047e9a80>
                                 └ <openai.api_requestor.APIRequestor object at 0x103fd0190>
  File "/Users/kaechle/Library/Caches/pypoetry/virtualenvs/scint-tXXp93ol-py3.11/lib/python3.11/site-packages/openai/api_requestor.py", line 382, in arequest
    resp, got_stream = await self._interpret_async_response(result, stream)
                             │    │                         │       └ False
                             │    │                         └ <ClientResponse(https://api.openai.com/v1/chat/completions) [400 Bad Request]>
                             │    │                           <CIMultiDictProxy('Date': 'Tue, 22 Aug 2023 04...
                             │    └ <function APIRequestor._interpret_async_response at 0x1047e9f80>
                             └ <openai.api_requestor.APIRequestor object at 0x103fd0190>
  File "/Users/kaechle/Library/Caches/pypoetry/virtualenvs/scint-tXXp93ol-py3.11/lib/python3.11/site-packages/openai/api_requestor.py", line 726, in _interpret_async_response
    self._interpret_response_line(
    │    └ <function APIRequestor._interpret_response_line at 0x1047ea020>
    └ <openai.api_requestor.APIRequestor object at 0x103fd0190>
  File "/Users/kaechle/Library/Caches/pypoetry/virtualenvs/scint-tXXp93ol-py3.11/lib/python3.11/site-packages/openai/api_requestor.py", line 763, in _interpret_response_line
    raise self.handle_error_response(
          │    └ <function APIRequestor.handle_error_response at 0x1047e9b20>
          └ <openai.api_requestor.APIRequestor object at 0x103fd0190>

openai.error.InvalidRequestError: 'content' is not of type 'object' - 'messages.0'
2023-08-22 01:11:11 | INFO     | core.chat:MessageHandler:17 - Calling message handler.
2023-08-22 01:11:17 | INFO     | core.chat:chat:48 - Initiating chat call.
2023-08-22 01:11:17 | INFO     | core.chat:build_manifest:32 - Building message manifest.
2023-08-22 01:11:18 | ERROR    | core.chat:chat:81 - There was no response from the assistant: "[{'name': 'google_search', 'description': 'Use this function to run a Google search for the user.', 'parameters': {'type': 'object', 'properties': {'query': {'type': 'string', 'description': 'The search string to use.'}}, 'required': ['query']}}, {'name': 'generate_code', 'description': 'Use this function to write and test Python code. Files are created and executed in a secure environment.', 'parameters': {'type': 'object', 'properties': {'code': {'type': 'string', 'description': 'The Python code to write and execute. You may write files and folders to create complex projects using Python.'}}, 'required': ['code']}}]" is not of type 'array' - 'functions'
Traceback (most recent call last):

  File "/Users/kaechle/Developer/projects/scint/main.py", line 55, in <module>
    asyncio.run(cli())
    │       │   └ <function cli at 0x102e885e0>
    │       └ <function run at 0x100f23060>
    └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/as...

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object cli at 0x102df8280>
           │      └ <function Runner.run at 0x100f2b240>
           └ <asyncio.runners.Runner object at 0x100c74ed0>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<cli() running at /Users/kaechle/Developer/projects/scint/main.py:44> cb=[_run_until_complet...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x100f28ea0>
           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x100c74ed0>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x100f28e00>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x100f2ac00>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 1922, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x100e68fe0>
    └ <Handle <TaskStepMethWrapper object at 0x1024a2260>()>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x1024a2260>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x1024a2260>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x1024a2260>()>

  File "/Users/kaechle/Developer/projects/scint/main.py", line 44, in cli
    response = await chat(user_message)
                     │    └ 'Search the web for htmx docs'
                     └ <function chat at 0x10283a840>

> File "/Users/kaechle/Developer/projects/scint/core/chat.py", line 55, in chat
    response = await openai(messages, functions)  # type: ignore
                     │      │         └ "[{'name': 'google_search', 'description': 'Use this function to run a Google search for the user.', 'parameters': {'type': '...
                     │      └ [{'content': 'You are Scint, a stateful, collaborative, intelligent assistant. You have access to a secure sandbox environmen...
                     └ <function openai at 0x10283a5c0>

  File "/Users/kaechle/Developer/projects/scint/core/data/providers/models.py", line 18, in openai
    response = await ChatCompletion.acreate(
                     │              └ <classmethod(<function ChatCompletion.acreate at 0x102d5e200>)>
                     └ <class 'openai.api_resources.chat_completion.ChatCompletion'>

  File "/Users/kaechle/Library/Caches/pypoetry/virtualenvs/scint-tXXp93ol-py3.11/lib/python3.11/site-packages/openai/api_resources/chat_completion.py", line 45, in acreate
    return await super().acreate(*args, **kwargs)
                                  │       └ {'model': 'gpt-4-0613', 'temperature': 1.6, 'top_p': 0.7, 'frequency_penalty': 0.35, 'presence_penalty': 0.35, 'logit_bias': ...
                                  └ ()
  File "/Users/kaechle/Library/Caches/pypoetry/virtualenvs/scint-tXXp93ol-py3.11/lib/python3.11/site-packages/openai/api_resources/abstract/engine_api_resource.py", line 217, in acreate
    response, _, api_key = await requestor.arequest(
                                 │         └ <function APIRequestor.arequest at 0x102d5da80>
                                 └ <openai.api_requestor.APIRequestor object at 0x102e1a810>
  File "/Users/kaechle/Library/Caches/pypoetry/virtualenvs/scint-tXXp93ol-py3.11/lib/python3.11/site-packages/openai/api_requestor.py", line 382, in arequest
    resp, got_stream = await self._interpret_async_response(result, stream)
                             │    │                         │       └ False
                             │    │                         └ <ClientResponse(https://api.openai.com/v1/chat/completions) [400 Bad Request]>
                             │    │                           <CIMultiDictProxy('Date': 'Tue, 22 Aug 2023 04...
                             │    └ <function APIRequestor._interpret_async_response at 0x102d5df80>
                             └ <openai.api_requestor.APIRequestor object at 0x102e1a810>
  File "/Users/kaechle/Library/Caches/pypoetry/virtualenvs/scint-tXXp93ol-py3.11/lib/python3.11/site-packages/openai/api_requestor.py", line 726, in _interpret_async_response
    self._interpret_response_line(
    │    └ <function APIRequestor._interpret_response_line at 0x102d5e020>
    └ <openai.api_requestor.APIRequestor object at 0x102e1a810>
  File "/Users/kaechle/Library/Caches/pypoetry/virtualenvs/scint-tXXp93ol-py3.11/lib/python3.11/site-packages/openai/api_requestor.py", line 763, in _interpret_response_line
    raise self.handle_error_response(
          │    └ <function APIRequestor.handle_error_response at 0x102d5db20>
          └ <openai.api_requestor.APIRequestor object at 0x102e1a810>

openai.error.InvalidRequestError: "[{'name': 'google_search', 'description': 'Use this function to run a Google search for the user.', 'parameters': {'type': 'object', 'properties': {'query': {'type': 'string', 'description': 'The search string to use.'}}, 'required': ['query']}}, {'name': 'generate_code', 'description': 'Use this function to write and test Python code. Files are created and executed in a secure environment.', 'parameters': {'type': 'object', 'properties': {'code': {'type': 'string', 'description': 'The Python code to write and execute. You may write files and folders to create complex projects using Python.'}}, 'required': ['code']}}]" is not of type 'array' - 'functions'
2023-08-22 01:11:18 | ERROR    | __main__:cli:47 - Error communicating with the assistant: "[{'name': 'google_search', 'description': 'Use this function to run a Google search for the user.', 'parameters': {'type': 'object', 'properties': {'query': {'type': 'string', 'description': 'The search string to use.'}}, 'required': ['query']}}, {'name': 'generate_code', 'description': 'Use this function to write and test Python code. Files are created and executed in a secure environment.', 'parameters': {'type': 'object', 'properties': {'code': {'type': 'string', 'description': 'The Python code to write and execute. You may write files and folders to create complex projects using Python.'}}, 'required': ['code']}}]" is not of type 'array' - 'functions'

Traceback (most recent call last):

  File "/Users/kaechle/Developer/projects/scint/main.py", line 55, in <module>
    asyncio.run(cli())
    │       │   └ <function cli at 0x102e885e0>
    │       └ <function run at 0x100f23060>
    └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/as...

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object cli at 0x102df8280>
           │      └ <function Runner.run at 0x100f2b240>
           └ <asyncio.runners.Runner object at 0x100c74ed0>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<cli() running at /Users/kaechle/Developer/projects/scint/main.py:47> cb=[_run_until_complet...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x100f28ea0>
           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x100c74ed0>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x100f28e00>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x100f2ac00>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 1922, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x100e68fe0>
    └ <Handle <TaskStepMethWrapper object at 0x1024a2260>()>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x1024a2260>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x1024a2260>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x1024a2260>()>

> File "/Users/kaechle/Developer/projects/scint/main.py", line 44, in cli
    response = await chat(user_message)
                     │    └ 'Search the web for htmx docs'
                     └ <function chat at 0x10283a840>

  File "/Users/kaechle/Developer/projects/scint/core/chat.py", line 55, in chat
    response = await openai(messages, functions)  # type: ignore
                     │      │         └ "[{'name': 'google_search', 'description': 'Use this function to run a Google search for the user.', 'parameters': {'type': '...
                     │      └ [{'content': 'You are Scint, a stateful, collaborative, intelligent assistant. You have access to a secure sandbox environmen...
                     └ <function openai at 0x10283a5c0>

  File "/Users/kaechle/Developer/projects/scint/core/data/providers/models.py", line 18, in openai
    response = await ChatCompletion.acreate(
                     │              └ <classmethod(<function ChatCompletion.acreate at 0x102d5e200>)>
                     └ <class 'openai.api_resources.chat_completion.ChatCompletion'>

  File "/Users/kaechle/Library/Caches/pypoetry/virtualenvs/scint-tXXp93ol-py3.11/lib/python3.11/site-packages/openai/api_resources/chat_completion.py", line 45, in acreate
    return await super().acreate(*args, **kwargs)
                                  │       └ {'model': 'gpt-4-0613', 'temperature': 1.6, 'top_p': 0.7, 'frequency_penalty': 0.35, 'presence_penalty': 0.35, 'logit_bias': ...
                                  └ ()
  File "/Users/kaechle/Library/Caches/pypoetry/virtualenvs/scint-tXXp93ol-py3.11/lib/python3.11/site-packages/openai/api_resources/abstract/engine_api_resource.py", line 217, in acreate
    response, _, api_key = await requestor.arequest(
                                 │         └ <function APIRequestor.arequest at 0x102d5da80>
                                 └ <openai.api_requestor.APIRequestor object at 0x102e1a810>
  File "/Users/kaechle/Library/Caches/pypoetry/virtualenvs/scint-tXXp93ol-py3.11/lib/python3.11/site-packages/openai/api_requestor.py", line 382, in arequest
    resp, got_stream = await self._interpret_async_response(result, stream)
                             │    │                         │       └ False
                             │    │                         └ <ClientResponse(https://api.openai.com/v1/chat/completions) [400 Bad Request]>
                             │    │                           <CIMultiDictProxy('Date': 'Tue, 22 Aug 2023 04...
                             │    └ <function APIRequestor._interpret_async_response at 0x102d5df80>
                             └ <openai.api_requestor.APIRequestor object at 0x102e1a810>
  File "/Users/kaechle/Library/Caches/pypoetry/virtualenvs/scint-tXXp93ol-py3.11/lib/python3.11/site-packages/openai/api_requestor.py", line 726, in _interpret_async_response
    self._interpret_response_line(
    │    └ <function APIRequestor._interpret_response_line at 0x102d5e020>
    └ <openai.api_requestor.APIRequestor object at 0x102e1a810>
  File "/Users/kaechle/Library/Caches/pypoetry/virtualenvs/scint-tXXp93ol-py3.11/lib/python3.11/site-packages/openai/api_requestor.py", line 763, in _interpret_response_line
    raise self.handle_error_response(
          │    └ <function APIRequestor.handle_error_response at 0x102d5db20>
          └ <openai.api_requestor.APIRequestor object at 0x102e1a810>

openai.error.InvalidRequestError: "[{'name': 'google_search', 'description': 'Use this function to run a Google search for the user.', 'parameters': {'type': 'object', 'properties': {'query': {'type': 'string', 'description': 'The search string to use.'}}, 'required': ['query']}}, {'name': 'generate_code', 'description': 'Use this function to write and test Python code. Files are created and executed in a secure environment.', 'parameters': {'type': 'object', 'properties': {'code': {'type': 'string', 'description': 'The Python code to write and execute. You may write files and folders to create complex projects using Python.'}}, 'required': ['code']}}]" is not of type 'array' - 'functions'
2023-08-22 01:16:51 | INFO     | core.chat:MessageHandler:17 - Calling message handler.
2023-08-22 01:16:57 | INFO     | core.chat:chat:48 - Initiating chat call.
2023-08-22 01:16:57 | INFO     | core.chat:build_manifest:32 - Building message manifest.
2023-08-22 01:28:46 | INFO     | core.chat:MessageHandler:17 - Calling message handler.
2023-08-22 01:28:51 | INFO     | core.chat:chat:52 - Initiating chat call.
2023-08-22 01:28:51 | INFO     | core.chat:build_manifest:33 - Building message manifest.
2023-08-22 01:28:51 | INFO     | core.processor:parse_env:11 - Parsing environment.
2023-08-22 01:28:51 | INFO     | core.processor:parse_env:15 - Running tree subprocess.
2023-08-22 01:28:51 | ERROR    | __main__:cli:47 - Error communicating with the assistant: 'MessageHandler' object has no attribute 'messages'

Traceback (most recent call last):

  File "/Users/kaechle/Developer/projects/scint/main.py", line 55, in <module>
    asyncio.run(cli())
    │       │   └ <function cli at 0x104ccc680>
    │       └ <function run at 0x102d67060>
    └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/as...

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object cli at 0x104c38280>
           │      └ <function Runner.run at 0x102d6f240>
           └ <asyncio.runners.Runner object at 0x102d86490>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<cli() running at /Users/kaechle/Developer/projects/scint/main.py:47> cb=[_run_until_complet...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x102d6cea0>
           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x102d86490>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x102d6ce00>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x102d6ec00>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 1922, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x102cacfe0>
    └ <Handle <TaskStepMethWrapper object at 0x1046db040>()>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x1046db040>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x1046db040>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x1046db040>()>

> File "/Users/kaechle/Developer/projects/scint/main.py", line 44, in cli
    response = await chat(user_message)
                     │    └ 'Search the web for htmx docs'
                     └ <function chat at 0x1046828e0>

  File "/Users/kaechle/Developer/projects/scint/core/chat.py", line 54, in chat
    messages, functions = await handler.build_manifest()  # type: ignore
                                │       └ <function MessageHandler.build_manifest at 0x104ccc0e0>
                                └ <core.chat.MessageHandler object at 0x103c0b590>

  File "/Users/kaechle/Developer/projects/scint/core/chat.py", line 39, in build_manifest
    self.messages.append(sys_init)
    │                    └ {'content': 'You are Scint, a stateful, collaborative, intelligent assistant. You have access to a secure sandbox environment...
    └ <core.chat.MessageHandler object at 0x103c0b590>

AttributeError: 'MessageHandler' object has no attribute 'messages'
2023-08-22 01:30:17 | INFO     | core.chat:MessageHandler:17 - Calling message handler.
2023-08-22 01:30:27 | INFO     | core.chat:chat:52 - Initiating chat call.
2023-08-22 01:30:27 | INFO     | core.chat:build_manifest:33 - Building message manifest.
2023-08-22 01:30:27 | INFO     | core.processor:parse_env:11 - Parsing environment.
2023-08-22 01:30:27 | INFO     | core.processor:parse_env:15 - Running tree subprocess.
2023-08-22 01:32:21 | INFO     | core.chat:MessageHandler:17 - Calling message handler.
2023-08-22 01:32:32 | INFO     | core.chat:chat:52 - Initiating chat call.
2023-08-22 01:32:32 | INFO     | core.chat:build_manifest:31 - Building message manifest.
2023-08-22 01:32:52 | INFO     | core.chat:chat:52 - Initiating chat call.
2023-08-22 01:32:52 | INFO     | core.chat:build_manifest:31 - Building message manifest.
2023-08-22 01:33:16 | INFO     | core.chat:chat:52 - Initiating chat call.
2023-08-22 01:33:16 | INFO     | core.chat:build_manifest:31 - Building message manifest.
2023-08-22 01:35:37 | INFO     | core.chat:MessageHandler:17 - Calling message handler.
2023-08-22 01:35:43 | INFO     | core.chat:chat:52 - Initiating chat call.
2023-08-22 01:35:43 | INFO     | core.chat:build_manifest:31 - Building message manifest.
2023-08-22 01:38:08 | INFO     | core.chat:MessageHandler:17 - Calling message handler.
2023-08-22 01:38:16 | INFO     | core.chat:chat:52 - Initiating chat call.
2023-08-22 01:38:16 | INFO     | core.chat:build_manifest:31 - Building message manifest.
2023-08-22 01:38:19 | INFO     | core.processor:eval_function:42 - Evaluating function call: google_search
2023-08-22 01:38:19 | ERROR    | core.chat:chat:84 - There was no response from the assistant: 'str' object has no attribute 'get'
Traceback (most recent call last):

  File "/Users/kaechle/Developer/projects/scint/main.py", line 55, in <module>
    asyncio.run(cli())
    │       │   └ <function cli at 0x104d0c680>
    │       └ <function run at 0x102daf060>
    └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/as...

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object cli at 0x104c8c280>
           │      └ <function Runner.run at 0x102db7240>
           └ <asyncio.runners.Runner object at 0x102dce490>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<cli() running at /Users/kaechle/Developer/projects/scint/main.py:44> cb=[_run_until_complet...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x102db4ea0>
           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x102dce490>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x102db4e00>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x102db6c00>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 1922, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x102cf4fe0>
    └ <Handle <TaskStepMethWrapper object at 0x1048e0e80>()>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x1048e0e80>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x1048e0e80>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x1048e0e80>()>

  File "/Users/kaechle/Developer/projects/scint/main.py", line 44, in cli
    response = await chat(user_message)
                     │    └ 'Search the web for htmx docs'
                     └ <function chat at 0x1046da8e0>

> File "/Users/kaechle/Developer/projects/scint/core/chat.py", line 72, in chat
    function_results = await eval_function(function_call)
                             │             └ <OpenAIObject at 0x104d03470> JSON: {
                             │                 "name": "google_search",
                             │                 "arguments": "{\n  \"query\": \"htmx documentation\"\n}"
                             │               }
                             └ <function eval_function at 0x103e7a480>

  File "/Users/kaechle/Developer/projects/scint/core/processor.py", line 51, in eval_function
    search_results = await google(function_args.get("query"))
                           │      └ '{\n  "query": "htmx documentation"\n}'
                           └ <function google at 0x103e7b4c0>

AttributeError: 'str' object has no attribute 'get'
2023-08-22 01:38:19 | ERROR    | __main__:cli:47 - Error communicating with the assistant: 'str' object has no attribute 'get'

Traceback (most recent call last):

  File "/Users/kaechle/Developer/projects/scint/main.py", line 55, in <module>
    asyncio.run(cli())
    │       │   └ <function cli at 0x104d0c680>
    │       └ <function run at 0x102daf060>
    └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/as...

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object cli at 0x104c8c280>
           │      └ <function Runner.run at 0x102db7240>
           └ <asyncio.runners.Runner object at 0x102dce490>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<cli() running at /Users/kaechle/Developer/projects/scint/main.py:47> cb=[_run_until_complet...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x102db4ea0>
           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x102dce490>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x102db4e00>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x102db6c00>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 1922, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x102cf4fe0>
    └ <Handle <TaskStepMethWrapper object at 0x1048e0e80>()>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x1048e0e80>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x1048e0e80>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x1048e0e80>()>

> File "/Users/kaechle/Developer/projects/scint/main.py", line 44, in cli
    response = await chat(user_message)
                     │    └ 'Search the web for htmx docs'
                     └ <function chat at 0x1046da8e0>

  File "/Users/kaechle/Developer/projects/scint/core/chat.py", line 72, in chat
    function_results = await eval_function(function_call)
                             │             └ <OpenAIObject at 0x104d03470> JSON: {
                             │                 "name": "google_search",
                             │                 "arguments": "{\n  \"query\": \"htmx documentation\"\n}"
                             │               }
                             └ <function eval_function at 0x103e7a480>

  File "/Users/kaechle/Developer/projects/scint/core/processor.py", line 51, in eval_function
    search_results = await google(function_args.get("query"))
                           │      └ '{\n  "query": "htmx documentation"\n}'
                           └ <function google at 0x103e7b4c0>

AttributeError: 'str' object has no attribute 'get'
2023-08-22 01:39:47 | INFO     | core.chat:MessageHandler:17 - Calling message handler.
2023-08-22 01:39:53 | INFO     | core.chat:chat:52 - Initiating chat call.
2023-08-22 01:39:53 | INFO     | core.chat:build_manifest:31 - Building message manifest.
2023-08-22 01:39:57 | INFO     | core.processor:eval_function:42 - Evaluating function call: google_search
2023-08-22 01:39:57 | ERROR    | core.chat:chat:84 - There was no response from the assistant: 'str' object has no attribute 'get'
Traceback (most recent call last):

  File "/Users/kaechle/Developer/projects/scint/main.py", line 55, in <module>
    asyncio.run(cli())
    │       │   └ <function cli at 0x10343c680>
    │       └ <function run at 0x1014db060>
    └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/as...

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object cli at 0x1033c0280>
           │      └ <function Runner.run at 0x1014e3240>
           └ <asyncio.runners.Runner object at 0x1014fa490>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<cli() running at /Users/kaechle/Developer/projects/scint/main.py:44> cb=[_run_until_complet...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x1014e0ea0>
           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x1014fa490>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x1014e0e00>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x1014e2c00>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 1922, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x101420fe0>
    └ <Handle <TaskStepMethWrapper object at 0x103010460>()>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x103010460>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x103010460>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x103010460>()>

  File "/Users/kaechle/Developer/projects/scint/main.py", line 44, in cli
    response = await chat(user_message)
                     │    └ 'Search the web for htmx docs'
                     └ <function chat at 0x102e068e0>

> File "/Users/kaechle/Developer/projects/scint/core/chat.py", line 72, in chat
    function_results = await eval_function(function_call)
                             │             └ <OpenAIObject at 0x103433470> JSON: {
                             │                 "name": "google_search",
                             │                 "arguments": "{\n  \"query\": \"htmx documentation\"\n}"
                             │               }
                             └ <function eval_function at 0x1025ae480>

  File "/Users/kaechle/Developer/projects/scint/core/processor.py", line 51, in eval_function
    search_results = await google(function_args.get("query"))
                           │      └ '{\n  "query": "htmx documentation"\n}'
                           └ <function google at 0x1025af4c0>

AttributeError: 'str' object has no attribute 'get'
2023-08-22 01:39:57 | ERROR    | __main__:cli:47 - Error communicating with the assistant: 'str' object has no attribute 'get'

Traceback (most recent call last):

  File "/Users/kaechle/Developer/projects/scint/main.py", line 55, in <module>
    asyncio.run(cli())
    │       │   └ <function cli at 0x10343c680>
    │       └ <function run at 0x1014db060>
    └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/as...

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object cli at 0x1033c0280>
           │      └ <function Runner.run at 0x1014e3240>
           └ <asyncio.runners.Runner object at 0x1014fa490>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<cli() running at /Users/kaechle/Developer/projects/scint/main.py:47> cb=[_run_until_complet...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x1014e0ea0>
           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x1014fa490>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x1014e0e00>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x1014e2c00>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 1922, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x101420fe0>
    └ <Handle <TaskStepMethWrapper object at 0x103010460>()>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x103010460>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x103010460>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x103010460>()>

> File "/Users/kaechle/Developer/projects/scint/main.py", line 44, in cli
    response = await chat(user_message)
                     │    └ 'Search the web for htmx docs'
                     └ <function chat at 0x102e068e0>

  File "/Users/kaechle/Developer/projects/scint/core/chat.py", line 72, in chat
    function_results = await eval_function(function_call)
                             │             └ <OpenAIObject at 0x103433470> JSON: {
                             │                 "name": "google_search",
                             │                 "arguments": "{\n  \"query\": \"htmx documentation\"\n}"
                             │               }
                             └ <function eval_function at 0x1025ae480>

  File "/Users/kaechle/Developer/projects/scint/core/processor.py", line 51, in eval_function
    search_results = await google(function_args.get("query"))
                           │      └ '{\n  "query": "htmx documentation"\n}'
                           └ <function google at 0x1025af4c0>

AttributeError: 'str' object has no attribute 'get'
2023-08-22 01:41:15 | INFO     | core.chat:MessageHandler:17 - Calling message handler.
2023-08-22 01:41:21 | INFO     | core.chat:chat:52 - Initiating chat call.
2023-08-22 01:41:21 | INFO     | core.chat:build_manifest:31 - Building message manifest.
2023-08-22 01:41:23 | INFO     | core.processor:eval_function:42 - Evaluating function call: google_search
2023-08-22 01:41:23 | ERROR    | core.chat:chat:84 - There was no response from the assistant: string indices must be integers, not 'str'
Traceback (most recent call last):

  File "/Users/kaechle/Developer/projects/scint/main.py", line 55, in <module>
    asyncio.run(cli())
    │       │   └ <function cli at 0x102890680>
    │       └ <function run at 0x100933060>
    └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/as...

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object cli at 0x102878280>
           │      └ <function Runner.run at 0x10093b240>
           └ <asyncio.runners.Runner object at 0x100952490>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<cli() running at /Users/kaechle/Developer/projects/scint/main.py:44> cb=[_run_until_complet...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x100938ea0>
           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x100952490>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x100938e00>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10093ac00>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 1922, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x100878fe0>
    └ <Handle <TaskStepMethWrapper object at 0x10228b9a0>()>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x10228b9a0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x10228b9a0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x10228b9a0>()>

  File "/Users/kaechle/Developer/projects/scint/main.py", line 44, in cli
    response = await chat(user_message)
                     │    └ 'Search the web for htmx docs'
                     └ <function chat at 0x10225a8e0>

> File "/Users/kaechle/Developer/projects/scint/core/chat.py", line 72, in chat
    function_results = await eval_function(function_call)
                             │             └ <OpenAIObject at 0x102887470> JSON: {
                             │                 "name": "google_search",
                             │                 "arguments": "{\n  \"query\": \"htmx documentation\"\n}"
                             │               }
                             └ <function eval_function at 0x1019fe480>

  File "/Users/kaechle/Developer/projects/scint/core/processor.py", line 51, in eval_function
    search_results = await google(function_args["query"])
                           │      └ '{\n  "query": "htmx documentation"\n}'
                           └ <function google at 0x1019ff4c0>

TypeError: string indices must be integers, not 'str'
2023-08-22 01:41:23 | ERROR    | __main__:cli:47 - Error communicating with the assistant: string indices must be integers, not 'str'

Traceback (most recent call last):

  File "/Users/kaechle/Developer/projects/scint/main.py", line 55, in <module>
    asyncio.run(cli())
    │       │   └ <function cli at 0x102890680>
    │       └ <function run at 0x100933060>
    └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/as...

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object cli at 0x102878280>
           │      └ <function Runner.run at 0x10093b240>
           └ <asyncio.runners.Runner object at 0x100952490>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<cli() running at /Users/kaechle/Developer/projects/scint/main.py:47> cb=[_run_until_complet...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x100938ea0>
           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x100952490>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x100938e00>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10093ac00>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 1922, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x100878fe0>
    └ <Handle <TaskStepMethWrapper object at 0x10228b9a0>()>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x10228b9a0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x10228b9a0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x10228b9a0>()>

> File "/Users/kaechle/Developer/projects/scint/main.py", line 44, in cli
    response = await chat(user_message)
                     │    └ 'Search the web for htmx docs'
                     └ <function chat at 0x10225a8e0>

  File "/Users/kaechle/Developer/projects/scint/core/chat.py", line 72, in chat
    function_results = await eval_function(function_call)
                             │             └ <OpenAIObject at 0x102887470> JSON: {
                             │                 "name": "google_search",
                             │                 "arguments": "{\n  \"query\": \"htmx documentation\"\n}"
                             │               }
                             └ <function eval_function at 0x1019fe480>

  File "/Users/kaechle/Developer/projects/scint/core/processor.py", line 51, in eval_function
    search_results = await google(function_args["query"])
                           │      └ '{\n  "query": "htmx documentation"\n}'
                           └ <function google at 0x1019ff4c0>

TypeError: string indices must be integers, not 'str'
2023-08-22 13:07:32 | INFO     | core.chat:MessageHandler:17 - Calling message handler.
2023-08-22 13:07:36 | INFO     | core.chat:chat:52 - Initiating chat call.
2023-08-22 13:07:36 | INFO     | core.chat:build_manifest:31 - Building message manifest.
23-08-22 13:19:02 | INFO     | core.chat:MessageHandler | Calling message handler.
23-08-22 13:19:15 | INFO     | core.chat:chat | Starting chat process.
23-08-22 13:19:15 | INFO     | core.chat:build_manifest | Building message package manifest.
23-08-22 13:19:18 | INFO     | core.chat:chat | Sending message manifest.
23-08-22 13:19:18 | INFO     | core.chat:chat | Response received: Hello, Tim! How can I assist you today?
[23-08-22 13:47] core.chat: MessageHandler | Calling message handler.
[23-08-22 13:47] core.chat: chat | Starting chat process.
[23-08-22 13:47] core.chat: build_manifest | Building message package manifest.
[23-08-22 13:48] core.chat: chat | Sending message manifest.
[23-08-22 13:48] core.chat: chat | Response received: Hello Tim! How can I assist you today?
[23-08-22 13:48] core.chat: chat | Starting chat process.
[23-08-22 13:48] core.chat: build_manifest | Building message package manifest.
[23-08-22 13:48] core.chat: chat | Sending message manifest.
[23-08-22 13:48] core.chat: chat | Processing function: {
  "name": "google_search",
  "arguments": "{\n  \"query\": \"htmx documentation\"\n}"
}
[23-08-22 13:48] core.chat: chat | There was a problem delivering the message manifest: Object of type coroutine is not JSON serializable
Traceback (most recent call last):

  File "/Users/kaechle/Developer/projects/scint/app.py", line 5, in <module>
    asyncio.run(run_cli())
    │       │   └ <function run_cli at 0x10519b1a0>
    │       └ <function run at 0x103427060>
    └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/as...

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object run_cli at 0x10516d120>
           │      └ <function Runner.run at 0x10342b240>
           └ <asyncio.runners.Runner object at 0x102de0410>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<run_cli() running at /Users/kaechle/Developer/projects/scint/core/cli.py:44> cb=[_run_until...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x103428ea0>
           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x102de0410>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x103428e00>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10342ac00>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 1922, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x103370fe0>
    └ <Handle <TaskStepMethWrapper object at 0x104c60f70>()>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x104c60f70>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x104c60f70>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x104c60f70>()>

  File "/Users/kaechle/Developer/projects/scint/core/cli.py", line 44, in run_cli
    response = await chat(user_message)
                     │    └ 'Google the docs for htmx for me.'
                     └ <function chat at 0x103d0c680>

> File "/Users/kaechle/Developer/projects/scint/core/chat.py", line 76, in chat
    function_results_str = json.dumps(function_results)
                           │    │     └ <coroutine object eval_function at 0x105201140>
                           │    └ <function dumps at 0x103cdfd80>
                           └ <module 'json' from '/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/json/...

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/json/__init__.py", line 231, in dumps
    return _default_encoder.encode(obj)
           │                │      └ <coroutine object eval_function at 0x105201140>
           │                └ <function JSONEncoder.encode at 0x103d0c360>
           └ <json.encoder.JSONEncoder object at 0x103ce1410>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
             │    │          └ <coroutine object eval_function at 0x105201140>
             │    └ <function JSONEncoder.iterencode at 0x103d0c400>
             └ <json.encoder.JSONEncoder object at 0x103ce1410>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/json/encoder.py", line 258, in iterencode
    return _iterencode(o, 0)
           │           └ <coroutine object eval_function at 0x105201140>
           └ <_json.Encoder object at 0x1052a01c0>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/json/encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '

TypeError: Object of type coroutine is not JSON serializable
[23-08-22 13:48] core.cli: run_cli | Error communicating with the assistant: Object of type coroutine is not JSON serializable

Traceback (most recent call last):

  File "/Users/kaechle/Developer/projects/scint/app.py", line 5, in <module>
    asyncio.run(run_cli())
    │       │   └ <function run_cli at 0x10519b1a0>
    │       └ <function run at 0x103427060>
    └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/as...

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object run_cli at 0x10516d120>
           │      └ <function Runner.run at 0x10342b240>
           └ <asyncio.runners.Runner object at 0x102de0410>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<run_cli() running at /Users/kaechle/Developer/projects/scint/core/cli.py:47> cb=[_run_until...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x103428ea0>
           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x102de0410>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x103428e00>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10342ac00>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 1922, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x103370fe0>
    └ <Handle <TaskStepMethWrapper object at 0x104c60f70>()>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x104c60f70>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x104c60f70>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x104c60f70>()>

> File "/Users/kaechle/Developer/projects/scint/core/cli.py", line 44, in run_cli
    response = await chat(user_message)
                     │    └ 'Google the docs for htmx for me.'
                     └ <function chat at 0x103d0c680>

  File "/Users/kaechle/Developer/projects/scint/core/chat.py", line 76, in chat
    function_results_str = json.dumps(function_results)
                           │    │     └ <coroutine object eval_function at 0x105201140>
                           │    └ <function dumps at 0x103cdfd80>
                           └ <module 'json' from '/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/json/...

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/json/__init__.py", line 231, in dumps
    return _default_encoder.encode(obj)
           │                │      └ <coroutine object eval_function at 0x105201140>
           │                └ <function JSONEncoder.encode at 0x103d0c360>
           └ <json.encoder.JSONEncoder object at 0x103ce1410>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
             │    │          └ <coroutine object eval_function at 0x105201140>
             │    └ <function JSONEncoder.iterencode at 0x103d0c400>
             └ <json.encoder.JSONEncoder object at 0x103ce1410>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/json/encoder.py", line 258, in iterencode
    return _iterencode(o, 0)
           │           └ <coroutine object eval_function at 0x105201140>
           └ <_json.Encoder object at 0x1052a01c0>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/json/encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '

TypeError: Object of type coroutine is not JSON serializable
[23-08-22 13:51] core.chat: MessageHandler | Calling message handler.
[23-08-22 13:51] core.chat: chat | Starting chat process.
[23-08-22 13:51] core.chat: build_manifest | Building message package manifest.
[23-08-22 13:51] core.chat: chat | Sending message manifest.
[23-08-22 13:51] core.chat: chat | Response received: Hello Tim! How can I assist you today?
[23-08-22 13:51] core.chat: chat | Starting chat process.
[23-08-22 13:51] core.chat: build_manifest | Building message package manifest.
[23-08-22 13:51] core.chat: chat | Sending message manifest.
[23-08-22 13:51] core.chat: chat | Processing function: {
  "name": "google_search",
  "arguments": "{\n  \"query\": \"htmx documentation\"\n}"
}
[23-08-22 13:51] core.chat: chat | Starting chat process.
[23-08-22 13:51] core.chat: build_manifest | Building message package manifest.
[23-08-22 13:51] core.chat: chat | Sending message manifest.
[23-08-22 13:51] core.chat: chat | Response received: The string you provided appears to be a reference to a coroutine object in Python, which is part of the asyncio library used for writing single-threaded concurrent code using coroutines, multiplexing I/O access over sockets and other resources, running network clients and servers, and other related primitives. 

However, as an AI text-based model, I don't have the ability to interact directly with memory objects in a live Python environment. This coroutine object seems to represent an ongoing execution function which is part of a live Python codebase. Unfortunately, without the actual context of the running Python environment or the output from this coroutine when it's complete, I can't parse or interpret it.

In a normal Python environment, you could use something like `result = await <coroutine object>` (inside an async function) to get the result of that coroutine. But again, as a text-based AI model I'm unable to execute such actions.

Could you provide more context or ask another type of question?
[23-08-22 13:54] core.chat: MessageHandler | Calling message handler.
[23-08-22 13:54] core.chat: chat | Starting chat process.
[23-08-22 13:54] core.chat: build_manifest | Building message package manifest.
[23-08-22 13:54] core.chat: chat | Sending message manifest.
[23-08-22 13:54] core.chat: chat | Response received: Hello, Tim! How can I assist you today?
[23-08-22 13:54] core.chat: chat | Starting chat process.
[23-08-22 13:54] core.chat: build_manifest | Building message package manifest.
[23-08-22 13:54] core.chat: chat | Sending message manifest.
[23-08-22 13:54] core.chat: chat | There was a problem delivering the message manifest: object OpenAIObject can't be used in 'await' expression
Traceback (most recent call last):

  File "/Users/kaechle/Developer/projects/scint/app.py", line 5, in <module>
    asyncio.run(run_cli())
    │       │   └ <function run_cli at 0x104a171a0>
    │       └ <function run at 0x102c87060>
    └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/as...

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object run_cli at 0x1049d1120>
           │      └ <function Runner.run at 0x102c8b240>
           └ <asyncio.runners.Runner object at 0x102640410>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<run_cli() running at /Users/kaechle/Developer/projects/scint/core/cli.py:44> cb=[_run_until...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x102c88ea0>
           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x102640410>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x102c88e00>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x102c8ac00>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 1922, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x102bd0fe0>
    └ <Handle <TaskStepMethWrapper object at 0x1043bbeb0>()>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x1043bbeb0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x1043bbeb0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x1043bbeb0>()>

  File "/Users/kaechle/Developer/projects/scint/core/cli.py", line 44, in run_cli
    response = await chat(user_message)
                     │    └ 'Google htmx documentation for me.'
                     └ <function chat at 0x10356c680>

> File "/Users/kaechle/Developer/projects/scint/core/chat.py", line 73, in chat
    function_call = await data["message"]["function_call"]
                          └ <OpenAIObject at 0x1049fbf50> JSON: {
                              "index": 0,
                              "message": {
                                "role": "assistant",
                                "content": null,
                                "functio...

TypeError: object OpenAIObject can't be used in 'await' expression
[23-08-22 13:54] core.cli: run_cli | Error communicating with the assistant: object OpenAIObject can't be used in 'await' expression

Traceback (most recent call last):

  File "/Users/kaechle/Developer/projects/scint/app.py", line 5, in <module>
    asyncio.run(run_cli())
    │       │   └ <function run_cli at 0x104a171a0>
    │       └ <function run at 0x102c87060>
    └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/as...

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object run_cli at 0x1049d1120>
           │      └ <function Runner.run at 0x102c8b240>
           └ <asyncio.runners.Runner object at 0x102640410>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<run_cli() running at /Users/kaechle/Developer/projects/scint/core/cli.py:47> cb=[_run_until...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x102c88ea0>
           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x102640410>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x102c88e00>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x102c8ac00>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 1922, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x102bd0fe0>
    └ <Handle <TaskStepMethWrapper object at 0x1043bbeb0>()>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x1043bbeb0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x1043bbeb0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x1043bbeb0>()>

> File "/Users/kaechle/Developer/projects/scint/core/cli.py", line 44, in run_cli
    response = await chat(user_message)
                     │    └ 'Google htmx documentation for me.'
                     └ <function chat at 0x10356c680>

  File "/Users/kaechle/Developer/projects/scint/core/chat.py", line 73, in chat
    function_call = await data["message"]["function_call"]
                          └ <OpenAIObject at 0x1049fbf50> JSON: {
                              "index": 0,
                              "message": {
                                "role": "assistant",
                                "content": null,
                                "functio...

TypeError: object OpenAIObject can't be used in 'await' expression
[23-08-22 13:55] core.chat: MessageHandler | Calling message handler.
[23-08-22 13:55] core.chat: chat | Starting chat process.
[23-08-22 13:55] core.chat: build_manifest | Building message package manifest.
[23-08-22 13:55] core.chat: chat | Sending message manifest.
[23-08-22 13:55] core.chat: chat | Response received: Hello, Tim! How can I assist you today?
[23-08-22 13:55] core.chat: chat | Starting chat process.
[23-08-22 13:55] core.chat: build_manifest | Building message package manifest.
[23-08-22 13:55] core.chat: chat | Sending message manifest.
[23-08-22 13:55] core.chat: chat | Processing function: {
  "name": "google_search",
  "arguments": "{\n  \"query\": \"htmx documentation\"\n}"
}
[23-08-22 13:56] core.chat: MessageHandler | Calling message handler.
[23-08-22 13:56] core.chat: chat | Starting chat process.
[23-08-22 13:56] core.chat: build_manifest | Building message package manifest.
[23-08-22 13:56] core.chat: chat | Sending message manifest.
[23-08-22 13:56] core.chat: chat | Response received: Hello Tim! How can I assist you today?
[23-08-22 13:56] core.chat: chat | Starting chat process.
[23-08-22 13:56] core.chat: build_manifest | Building message package manifest.
[23-08-22 13:56] core.chat: chat | Sending message manifest.
[23-08-22 13:56] core.chat: chat | Processing function: {
  "name": "google_search",
  "arguments": "{\n  \"query\": \"htmx documentation\"\n}"
}
[23-08-22 13:56] core.processor: eval_function | Evaluating function call: google_search
[23-08-22 13:56] core.chat: chat | There was a problem delivering the message manifest: string indices must be integers, not 'str'
Traceback (most recent call last):

  File "/Users/kaechle/Developer/projects/scint/app.py", line 5, in <module>
    asyncio.run(run_cli())
    │       │   └ <function run_cli at 0x10516b1a0>
    │       └ <function run at 0x1033db060>
    └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/as...

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object run_cli at 0x105121120>
           │      └ <function Runner.run at 0x1033df240>
           └ <asyncio.runners.Runner object at 0x102d94410>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<run_cli() running at /Users/kaechle/Developer/projects/scint/core/cli.py:44> cb=[_run_until...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x1033dcea0>
           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x102d94410>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x1033dce00>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x1033dec00>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 1922, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x103324fe0>
    └ <Handle <TaskStepMethWrapper object at 0x104a4d2d0>()>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x104a4d2d0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x104a4d2d0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x104a4d2d0>()>

  File "/Users/kaechle/Developer/projects/scint/core/cli.py", line 44, in run_cli
    response = await chat(user_message)
                     │    └ 'Google the htmx documentation for me'
                     └ <function chat at 0x103cc0680>

> File "/Users/kaechle/Developer/projects/scint/core/chat.py", line 75, in chat
    function_results = await eval_function(function_call)
                             │             └ <OpenAIObject at 0x105258110> JSON: {
                             │                 "name": "google_search",
                             │                 "arguments": "{\n  \"query\": \"htmx documentation\"\n}"
                             │               }
                             └ <function eval_function at 0x10413fc40>

  File "/Users/kaechle/Developer/projects/scint/core/processor.py", line 51, in eval_function
    search_results = await google(function_args["query"])
                           │      └ '{\n  "query": "htmx documentation"\n}'
                           └ <function google at 0x10413fce0>

TypeError: string indices must be integers, not 'str'
[23-08-22 13:56] core.cli: run_cli | Error communicating with the assistant: string indices must be integers, not 'str'

Traceback (most recent call last):

  File "/Users/kaechle/Developer/projects/scint/app.py", line 5, in <module>
    asyncio.run(run_cli())
    │       │   └ <function run_cli at 0x10516b1a0>
    │       └ <function run at 0x1033db060>
    └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/as...

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object run_cli at 0x105121120>
           │      └ <function Runner.run at 0x1033df240>
           └ <asyncio.runners.Runner object at 0x102d94410>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<run_cli() running at /Users/kaechle/Developer/projects/scint/core/cli.py:47> cb=[_run_until...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x1033dcea0>
           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x102d94410>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x1033dce00>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x1033dec00>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 1922, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x103324fe0>
    └ <Handle <TaskStepMethWrapper object at 0x104a4d2d0>()>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x104a4d2d0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x104a4d2d0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x104a4d2d0>()>

> File "/Users/kaechle/Developer/projects/scint/core/cli.py", line 44, in run_cli
    response = await chat(user_message)
                     │    └ 'Google the htmx documentation for me'
                     └ <function chat at 0x103cc0680>

  File "/Users/kaechle/Developer/projects/scint/core/chat.py", line 75, in chat
    function_results = await eval_function(function_call)
                             │             └ <OpenAIObject at 0x105258110> JSON: {
                             │                 "name": "google_search",
                             │                 "arguments": "{\n  \"query\": \"htmx documentation\"\n}"
                             │               }
                             └ <function eval_function at 0x10413fc40>

  File "/Users/kaechle/Developer/projects/scint/core/processor.py", line 51, in eval_function
    search_results = await google(function_args["query"])
                           │      └ '{\n  "query": "htmx documentation"\n}'
                           └ <function google at 0x10413fce0>

TypeError: string indices must be integers, not 'str'
[23-08-22 14:01] core.chat: MessageHandler | Calling message handler.
[23-08-22 14:01] core.chat: chat | Starting chat process.
[23-08-22 14:01] core.chat: build_manifest | Building message package manifest.
[23-08-22 14:01] core.chat: chat | Sending message manifest.
[23-08-22 14:01] core.chat: chat | Response received: Hello Tim! How can I assist you today?
[23-08-22 14:01] core.chat: chat | Starting chat process.
[23-08-22 14:01] core.chat: build_manifest | Building message package manifest.
[23-08-22 14:01] core.chat: chat | Sending message manifest.
[23-08-22 14:01] core.chat: chat | Processing function: {
  "name": "google_search",
  "arguments": "{\n  \"query\": \"htmx documentation\"\n}"
}
[23-08-22 14:01] core.processor: eval_function | Evaluating function call: google_search
[23-08-22 14:01] core.chat: chat | There was a problem delivering the message manifest: 'str' object has no attribute 'get'
Traceback (most recent call last):

  File "/Users/kaechle/Developer/projects/scint/app.py", line 5, in <module>
    asyncio.run(run_cli())
    │       │   └ <function run_cli at 0x1067ab1a0>
    │       └ <function run at 0x104a37060>
    └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/as...

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object run_cli at 0x10677d120>
           │      └ <function Runner.run at 0x104a3b240>
           └ <asyncio.runners.Runner object at 0x1043f0410>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<run_cli() running at /Users/kaechle/Developer/projects/scint/core/cli.py:44> cb=[_run_until...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x104a38ea0>
           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x1043f0410>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x104a38e00>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x104a3ac00>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 1922, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x104980fe0>
    └ <Handle <TaskStepMethWrapper object at 0x105c9a3b0>()>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x105c9a3b0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x105c9a3b0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x105c9a3b0>()>

  File "/Users/kaechle/Developer/projects/scint/core/cli.py", line 44, in run_cli
    response = await chat(user_message)
                     │    └ 'Google the htmx documention for me'
                     └ <function chat at 0x10531c680>

> File "/Users/kaechle/Developer/projects/scint/core/chat.py", line 75, in chat
    function_results = await eval_function(function_call)
                             │             └ <OpenAIObject at 0x1068ac170> JSON: {
                             │                 "name": "google_search",
                             │                 "arguments": "{\n  \"query\": \"htmx documentation\"\n}"
                             │               }
                             └ <function eval_function at 0x10579bc40>

  File "/Users/kaechle/Developer/projects/scint/core/processor.py", line 51, in eval_function
    search_results = await google(function_args.get("query"))
                           │      └ '{\n  "query": "htmx documentation"\n}'
                           └ <function google at 0x10579bce0>

AttributeError: 'str' object has no attribute 'get'
[23-08-22 14:01] core.cli: run_cli | Error communicating with the assistant: 'str' object has no attribute 'get'

Traceback (most recent call last):

  File "/Users/kaechle/Developer/projects/scint/app.py", line 5, in <module>
    asyncio.run(run_cli())
    │       │   └ <function run_cli at 0x1067ab1a0>
    │       └ <function run at 0x104a37060>
    └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/as...

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object run_cli at 0x10677d120>
           │      └ <function Runner.run at 0x104a3b240>
           └ <asyncio.runners.Runner object at 0x1043f0410>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<run_cli() running at /Users/kaechle/Developer/projects/scint/core/cli.py:47> cb=[_run_until...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x104a38ea0>
           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x1043f0410>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x104a38e00>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x104a3ac00>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 1922, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x104980fe0>
    └ <Handle <TaskStepMethWrapper object at 0x105c9a3b0>()>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x105c9a3b0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x105c9a3b0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x105c9a3b0>()>

> File "/Users/kaechle/Developer/projects/scint/core/cli.py", line 44, in run_cli
    response = await chat(user_message)
                     │    └ 'Google the htmx documention for me'
                     └ <function chat at 0x10531c680>

  File "/Users/kaechle/Developer/projects/scint/core/chat.py", line 75, in chat
    function_results = await eval_function(function_call)
                             │             └ <OpenAIObject at 0x1068ac170> JSON: {
                             │                 "name": "google_search",
                             │                 "arguments": "{\n  \"query\": \"htmx documentation\"\n}"
                             │               }
                             └ <function eval_function at 0x10579bc40>

  File "/Users/kaechle/Developer/projects/scint/core/processor.py", line 51, in eval_function
    search_results = await google(function_args.get("query"))
                           │      └ '{\n  "query": "htmx documentation"\n}'
                           └ <function google at 0x10579bce0>

AttributeError: 'str' object has no attribute 'get'
[23-08-22 14:02] core.chat: MessageHandler | Calling message handler.
[23-08-22 14:02] core.chat: chat | Starting chat process.
[23-08-22 14:02] core.chat: build_manifest | Building message package manifest.
[23-08-22 14:02] core.chat: chat | Sending message manifest.
[23-08-22 14:02] core.chat: chat | Processing function: {
  "name": "google_search",
  "arguments": "{\n  \"query\": \"htmx documentation\"\n}"
}
[23-08-22 14:02] core.processor: eval_function | Evaluating function call: google_search
[23-08-22 14:02] core.chat: chat | There was a problem delivering the message manifest: string indices must be integers, not 'str'
Traceback (most recent call last):

  File "/Users/kaechle/Developer/projects/scint/app.py", line 5, in <module>
    asyncio.run(run_cli())
    │       │   └ <function run_cli at 0x106edb1a0>
    │       └ <function run at 0x10514b060>
    └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/as...

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object run_cli at 0x106e95120>
           │      └ <function Runner.run at 0x10514f240>
           └ <asyncio.runners.Runner object at 0x104b04410>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<run_cli() running at /Users/kaechle/Developer/projects/scint/core/cli.py:44> cb=[_run_until...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x10514cea0>
           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x104b04410>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10514ce00>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10514ec00>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 1922, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x105094fe0>
    └ <Handle <TaskStepMethWrapper object at 0x106470190>()>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x106470190>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x106470190>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x106470190>()>

  File "/Users/kaechle/Developer/projects/scint/core/cli.py", line 44, in run_cli
    response = await chat(user_message)
                     │    └ 'Google the htmx documentation for me'
                     └ <function chat at 0x105a30680>

> File "/Users/kaechle/Developer/projects/scint/core/chat.py", line 75, in chat
    function_results = await eval_function(function_call)
                             │             └ <OpenAIObject at 0x106f1ffb0> JSON: {
                             │                 "name": "google_search",
                             │                 "arguments": "{\n  \"query\": \"htmx documentation\"\n}"
                             │               }
                             └ <function eval_function at 0x105eafc40>

  File "/Users/kaechle/Developer/projects/scint/core/processor.py", line 51, in eval_function
    search_results = await google(function_args["query"][0])
                           │      └ '{\n  "query": "htmx documentation"\n}'
                           └ <function google at 0x105eafce0>

TypeError: string indices must be integers, not 'str'
[23-08-22 14:02] core.cli: run_cli | Error communicating with the assistant: string indices must be integers, not 'str'

Traceback (most recent call last):

  File "/Users/kaechle/Developer/projects/scint/app.py", line 5, in <module>
    asyncio.run(run_cli())
    │       │   └ <function run_cli at 0x106edb1a0>
    │       └ <function run at 0x10514b060>
    └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/as...

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object run_cli at 0x106e95120>
           │      └ <function Runner.run at 0x10514f240>
           └ <asyncio.runners.Runner object at 0x104b04410>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<run_cli() running at /Users/kaechle/Developer/projects/scint/core/cli.py:47> cb=[_run_until...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x10514cea0>
           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x104b04410>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10514ce00>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10514ec00>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 1922, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x105094fe0>
    └ <Handle <TaskStepMethWrapper object at 0x106470190>()>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x106470190>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x106470190>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x106470190>()>

> File "/Users/kaechle/Developer/projects/scint/core/cli.py", line 44, in run_cli
    response = await chat(user_message)
                     │    └ 'Google the htmx documentation for me'
                     └ <function chat at 0x105a30680>

  File "/Users/kaechle/Developer/projects/scint/core/chat.py", line 75, in chat
    function_results = await eval_function(function_call)
                             │             └ <OpenAIObject at 0x106f1ffb0> JSON: {
                             │                 "name": "google_search",
                             │                 "arguments": "{\n  \"query\": \"htmx documentation\"\n}"
                             │               }
                             └ <function eval_function at 0x105eafc40>

  File "/Users/kaechle/Developer/projects/scint/core/processor.py", line 51, in eval_function
    search_results = await google(function_args["query"][0])
                           │      └ '{\n  "query": "htmx documentation"\n}'
                           └ <function google at 0x105eafce0>

TypeError: string indices must be integers, not 'str'
[23-08-22 14:05] core.chat: MessageHandler | Calling message handler.
[23-08-22 14:05] core.chat: chat | Starting chat process.
[23-08-22 14:05] core.chat: build_manifest | Building message package manifest.
[23-08-22 14:05] core.chat: chat | Sending message manifest.
[23-08-22 14:05] core.chat: chat | Processing function: {
  "name": "google_search",
  "arguments": "{\n  \"query\": \"htmx documentation\"\n}"
}
[23-08-22 14:05] core.processor: eval_function | Evaluating function call: google_search
[23-08-22 14:05] core.chat: chat | There was a problem delivering the message manifest: string indices must be integers, not 'str'
Traceback (most recent call last):

  File "/Users/kaechle/Developer/projects/scint/app.py", line 5, in <module>
    asyncio.run(run_cli())
    │       │   └ <function run_cli at 0x1058231a0>
    │       └ <function run at 0x103087060>
    └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/as...

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object run_cli at 0x1057f9120>
           │      └ <function Runner.run at 0x10308b240>
           └ <asyncio.runners.Runner object at 0x102a40410>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<run_cli() running at /Users/kaechle/Developer/projects/scint/core/cli.py:44> cb=[_run_until...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x103088ea0>
           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x102a40410>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x103088e00>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10308ac00>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 1922, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x102fd0fe0>
    └ <Handle <TaskStepMethWrapper object at 0x1050cb6a0>()>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x1050cb6a0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x1050cb6a0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x1050cb6a0>()>

  File "/Users/kaechle/Developer/projects/scint/core/cli.py", line 44, in run_cli
    response = await chat(user_message)
                     │    └ 'Google the htmx documentation for me'
                     └ <function chat at 0x10396c680>

> File "/Users/kaechle/Developer/projects/scint/core/chat.py", line 75, in chat
    function_results = await eval_function(function_call)
                             │             └ <OpenAIObject at 0x105924050> JSON: {
                             │                 "name": "google_search",
                             │                 "arguments": "{\n  \"query\": \"htmx documentation\"\n}"
                             │               }
                             └ <function eval_function at 0x103debc40>

  File "/Users/kaechle/Developer/projects/scint/core/processor.py", line 45, in eval_function
    function_args = json.loads(function_name["arguments"])
                    │    │     └ 'google_search'
                    │    └ <function loads at 0x10396c5e0>
                    └ <module 'json' from '/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/json/...

TypeError: string indices must be integers, not 'str'
[23-08-22 14:05] core.cli: run_cli | Error communicating with the assistant: string indices must be integers, not 'str'

Traceback (most recent call last):

  File "/Users/kaechle/Developer/projects/scint/app.py", line 5, in <module>
    asyncio.run(run_cli())
    │       │   └ <function run_cli at 0x1058231a0>
    │       └ <function run at 0x103087060>
    └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/as...

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object run_cli at 0x1057f9120>
           │      └ <function Runner.run at 0x10308b240>
           └ <asyncio.runners.Runner object at 0x102a40410>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<run_cli() running at /Users/kaechle/Developer/projects/scint/core/cli.py:47> cb=[_run_until...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x103088ea0>
           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x102a40410>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x103088e00>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10308ac00>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 1922, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x102fd0fe0>
    └ <Handle <TaskStepMethWrapper object at 0x1050cb6a0>()>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x1050cb6a0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x1050cb6a0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x1050cb6a0>()>

> File "/Users/kaechle/Developer/projects/scint/core/cli.py", line 44, in run_cli
    response = await chat(user_message)
                     │    └ 'Google the htmx documentation for me'
                     └ <function chat at 0x10396c680>

  File "/Users/kaechle/Developer/projects/scint/core/chat.py", line 75, in chat
    function_results = await eval_function(function_call)
                             │             └ <OpenAIObject at 0x105924050> JSON: {
                             │                 "name": "google_search",
                             │                 "arguments": "{\n  \"query\": \"htmx documentation\"\n}"
                             │               }
                             └ <function eval_function at 0x103debc40>

  File "/Users/kaechle/Developer/projects/scint/core/processor.py", line 45, in eval_function
    function_args = json.loads(function_name["arguments"])
                    │    │     └ 'google_search'
                    │    └ <function loads at 0x10396c5e0>
                    └ <module 'json' from '/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/json/...

TypeError: string indices must be integers, not 'str'
[23-08-22 14:09] core.chat: MessageHandler | Calling message handler.
[23-08-22 14:09] core.chat: chat | Starting chat process.
[23-08-22 14:09] core.chat: build_manifest | Building message package manifest.
[23-08-22 14:09] core.chat: chat | Sending message manifest.
[23-08-22 14:09] core.chat: chat | Processing function: {
  "name": "google_search",
  "arguments": "{\n  \"query\": \"htmx documentation\"\n}"
}
[23-08-22 14:09] core.processor: eval_function | Evaluating function call: google_search
[23-08-22 14:09] core.chat: chat | There was a problem delivering the message manifest: string indices must be integers, not 'str'
Traceback (most recent call last):

  File "/Users/kaechle/Developer/projects/scint/app.py", line 5, in <module>
    asyncio.run(run_cli())
    │       │   └ <function run_cli at 0x1071431a0>
    │       └ <function run at 0x1053cf060>
    └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/as...

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object run_cli at 0x107119120>
           │      └ <function Runner.run at 0x1053d3240>
           └ <asyncio.runners.Runner object at 0x104d88410>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<run_cli() running at /Users/kaechle/Developer/projects/scint/core/cli.py:44> cb=[_run_until...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x1053d0ea0>
           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x104d88410>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x1053d0e00>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x1053d2c00>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 1922, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x105318fe0>
    └ <Handle <TaskStepMethWrapper object at 0x1066e5d50>()>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x1066e5d50>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x1066e5d50>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x1066e5d50>()>

  File "/Users/kaechle/Developer/projects/scint/core/cli.py", line 44, in run_cli
    response = await chat(user_message)
                     │    └ 'Google the htmx docs for me'
                     └ <function chat at 0x105cb4680>

> File "/Users/kaechle/Developer/projects/scint/core/chat.py", line 75, in chat
    function_results = await eval_function(function_call)
                             │             └ <OpenAIObject at 0x107248050> JSON: {
                             │                 "name": "google_search",
                             │                 "arguments": "{\n  \"query\": \"htmx documentation\"\n}"
                             │               }
                             └ <function eval_function at 0x106133c40>

  File "/Users/kaechle/Developer/projects/scint/core/processor.py", line 45, in eval_function
    function_args_str = function_name["arguments"]
                        └ 'google_search'

TypeError: string indices must be integers, not 'str'
[23-08-22 14:09] core.cli: run_cli | Error communicating with the assistant: string indices must be integers, not 'str'

Traceback (most recent call last):

  File "/Users/kaechle/Developer/projects/scint/app.py", line 5, in <module>
    asyncio.run(run_cli())
    │       │   └ <function run_cli at 0x1071431a0>
    │       └ <function run at 0x1053cf060>
    └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/as...

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object run_cli at 0x107119120>
           │      └ <function Runner.run at 0x1053d3240>
           └ <asyncio.runners.Runner object at 0x104d88410>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<run_cli() running at /Users/kaechle/Developer/projects/scint/core/cli.py:47> cb=[_run_until...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x1053d0ea0>
           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x104d88410>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x1053d0e00>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x1053d2c00>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 1922, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x105318fe0>
    └ <Handle <TaskStepMethWrapper object at 0x1066e5d50>()>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x1066e5d50>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x1066e5d50>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x1066e5d50>()>

> File "/Users/kaechle/Developer/projects/scint/core/cli.py", line 44, in run_cli
    response = await chat(user_message)
                     │    └ 'Google the htmx docs for me'
                     └ <function chat at 0x105cb4680>

  File "/Users/kaechle/Developer/projects/scint/core/chat.py", line 75, in chat
    function_results = await eval_function(function_call)
                             │             └ <OpenAIObject at 0x107248050> JSON: {
                             │                 "name": "google_search",
                             │                 "arguments": "{\n  \"query\": \"htmx documentation\"\n}"
                             │               }
                             └ <function eval_function at 0x106133c40>

  File "/Users/kaechle/Developer/projects/scint/core/processor.py", line 45, in eval_function
    function_args_str = function_name["arguments"]
                        └ 'google_search'

TypeError: string indices must be integers, not 'str'
[23-08-22 14:10] core.chat: MessageHandler | Calling message handler.
[23-08-22 14:10] core.chat: chat | Starting chat process.
[23-08-22 14:10] core.chat: build_manifest | Building message package manifest.
[23-08-22 14:10] core.chat: chat | Sending message manifest.
[23-08-22 14:10] core.chat: chat | Processing function: {
  "name": "google_search",
  "arguments": "{\n  \"query\": \"htmx documentation\"\n}"
}
[23-08-22 14:10] core.processor: eval_function | Evaluating function call: google_search
[23-08-22 14:10] core.chat: chat | There was a problem delivering the message manifest: string indices must be integers, not 'str'
Traceback (most recent call last):

  File "/Users/kaechle/Developer/projects/scint/app.py", line 5, in <module>
    asyncio.run(run_cli())
    │       │   └ <function run_cli at 0x1056df1a0>
    │       └ <function run at 0x102c17060>
    └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/as...

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object run_cli at 0x1056b1120>
           │      └ <function Runner.run at 0x102c1b240>
           └ <asyncio.runners.Runner object at 0x1051ed250>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<run_cli() running at /Users/kaechle/Developer/projects/scint/core/cli.py:44> cb=[_run_until...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x102c18ea0>
           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x1051ed250>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x102c18e00>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x102c1ac00>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 1922, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x102b60fe0>
    └ <Handle <TaskStepMethWrapper object at 0x104173610>()>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x104173610>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x104173610>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x104173610>()>

  File "/Users/kaechle/Developer/projects/scint/core/cli.py", line 44, in run_cli
    response = await chat(user_message)
                     │    └ 'Google the htmx docs for me'
                     └ <function chat at 0x1034fc680>

> File "/Users/kaechle/Developer/projects/scint/core/chat.py", line 75, in chat
    function_results = await eval_function(function_call)
                             │             └ <OpenAIObject at 0x1056c3fb0> JSON: {
                             │                 "name": "google_search",
                             │                 "arguments": "{\n  \"query\": \"htmx documentation\"\n}"
                             │               }
                             └ <function eval_function at 0x10397bc40>

  File "/Users/kaechle/Developer/projects/scint/core/processor.py", line 45, in eval_function
    function_args_str = function_name["arguments"]
                        └ 'google_search'

TypeError: string indices must be integers, not 'str'
[23-08-22 14:10] core.cli: run_cli | Error communicating with the assistant: string indices must be integers, not 'str'

Traceback (most recent call last):

  File "/Users/kaechle/Developer/projects/scint/app.py", line 5, in <module>
    asyncio.run(run_cli())
    │       │   └ <function run_cli at 0x1056df1a0>
    │       └ <function run at 0x102c17060>
    └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/as...

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object run_cli at 0x1056b1120>
           │      └ <function Runner.run at 0x102c1b240>
           └ <asyncio.runners.Runner object at 0x1051ed250>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<run_cli() running at /Users/kaechle/Developer/projects/scint/core/cli.py:47> cb=[_run_until...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x102c18ea0>
           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x1051ed250>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x102c18e00>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x102c1ac00>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 1922, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x102b60fe0>
    └ <Handle <TaskStepMethWrapper object at 0x104173610>()>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x104173610>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x104173610>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x104173610>()>

> File "/Users/kaechle/Developer/projects/scint/core/cli.py", line 44, in run_cli
    response = await chat(user_message)
                     │    └ 'Google the htmx docs for me'
                     └ <function chat at 0x1034fc680>

  File "/Users/kaechle/Developer/projects/scint/core/chat.py", line 75, in chat
    function_results = await eval_function(function_call)
                             │             └ <OpenAIObject at 0x1056c3fb0> JSON: {
                             │                 "name": "google_search",
                             │                 "arguments": "{\n  \"query\": \"htmx documentation\"\n}"
                             │               }
                             └ <function eval_function at 0x10397bc40>

  File "/Users/kaechle/Developer/projects/scint/core/processor.py", line 45, in eval_function
    function_args_str = function_name["arguments"]
                        └ 'google_search'

TypeError: string indices must be integers, not 'str'
[23-08-22 14:12] core.chat: MessageHandler | Calling message handler.
[23-08-22 14:13] core.chat: chat | Starting chat process.
[23-08-22 14:13] core.chat: build_manifest | Building message package manifest.
[23-08-22 14:13] core.chat: chat | Sending message manifest.
[23-08-22 14:13] core.chat: chat | Processing function: {
  "name": "google_search",
  "arguments": "{\n  \"query\": \"htmx documentation\"\n}"
}
[23-08-22 14:13] core.processor: eval_function | Evaluating function call: google_search
[23-08-22 14:13] core.chat: chat | There was a problem delivering the message manifest: the JSON object must be str, bytes or bytearray, not OpenAIObject
Traceback (most recent call last):

  File "/Users/kaechle/Developer/projects/scint/app.py", line 5, in <module>
    asyncio.run(run_cli())
    │       │   └ <function run_cli at 0x107f1f1a0>
    │       └ <function run at 0x10548f060>
    └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/as...

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object run_cli at 0x107ef9120>
           │      └ <function Runner.run at 0x105493240>
           └ <asyncio.runners.Runner object at 0x104e48410>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<run_cli() running at /Users/kaechle/Developer/projects/scint/core/cli.py:44> cb=[_run_until...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x105490ea0>
           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x104e48410>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x105490e00>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x105492c00>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 1922, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x1053d8fe0>
    └ <Handle <TaskStepMethWrapper object at 0x107c8bf10>()>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x107c8bf10>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x107c8bf10>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x107c8bf10>()>

  File "/Users/kaechle/Developer/projects/scint/core/cli.py", line 44, in run_cli
    response = await chat(user_message)
                     │    └ 'Google the htmx docs for me'
                     └ <function chat at 0x1063dc680>

> File "/Users/kaechle/Developer/projects/scint/core/chat.py", line 75, in chat
    function_results = await eval_function(function_call)
                             │             └ <OpenAIObject at 0x107f3bfb0> JSON: {
                             │                 "name": "google_search",
                             │                 "arguments": "{\n  \"query\": \"htmx documentation\"\n}"
                             │               }
                             └ <function eval_function at 0x10642bc40>

  File "/Users/kaechle/Developer/projects/scint/core/processor.py", line 44, in eval_function
    function_dict = json.loads(function_call)
                    │    │     └ <OpenAIObject at 0x107f3bfb0> JSON: {
                    │    │         "name": "google_search",
                    │    │         "arguments": "{\n  \"query\": \"htmx documentation\"\n}"
                    │    │       }
                    │    └ <function loads at 0x1063dc5e0>
                    └ <module 'json' from '/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/json/...

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/json/__init__.py", line 339, in loads
    raise TypeError(f'the JSON object must be str, bytes or bytearray, '

TypeError: the JSON object must be str, bytes or bytearray, not OpenAIObject
[23-08-22 14:13] core.cli: run_cli | Error communicating with the assistant: the JSON object must be str, bytes or bytearray, not OpenAIObject

Traceback (most recent call last):

  File "/Users/kaechle/Developer/projects/scint/app.py", line 5, in <module>
    asyncio.run(run_cli())
    │       │   └ <function run_cli at 0x107f1f1a0>
    │       └ <function run at 0x10548f060>
    └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/as...

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object run_cli at 0x107ef9120>
           │      └ <function Runner.run at 0x105493240>
           └ <asyncio.runners.Runner object at 0x104e48410>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<run_cli() running at /Users/kaechle/Developer/projects/scint/core/cli.py:47> cb=[_run_until...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x105490ea0>
           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x104e48410>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x105490e00>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x105492c00>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 1922, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x1053d8fe0>
    └ <Handle <TaskStepMethWrapper object at 0x107c8bf10>()>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x107c8bf10>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x107c8bf10>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x107c8bf10>()>

> File "/Users/kaechle/Developer/projects/scint/core/cli.py", line 44, in run_cli
    response = await chat(user_message)
                     │    └ 'Google the htmx docs for me'
                     └ <function chat at 0x1063dc680>

  File "/Users/kaechle/Developer/projects/scint/core/chat.py", line 75, in chat
    function_results = await eval_function(function_call)
                             │             └ <OpenAIObject at 0x107f3bfb0> JSON: {
                             │                 "name": "google_search",
                             │                 "arguments": "{\n  \"query\": \"htmx documentation\"\n}"
                             │               }
                             └ <function eval_function at 0x10642bc40>

  File "/Users/kaechle/Developer/projects/scint/core/processor.py", line 44, in eval_function
    function_dict = json.loads(function_call)
                    │    │     └ <OpenAIObject at 0x107f3bfb0> JSON: {
                    │    │         "name": "google_search",
                    │    │         "arguments": "{\n  \"query\": \"htmx documentation\"\n}"
                    │    │       }
                    │    └ <function loads at 0x1063dc5e0>
                    └ <module 'json' from '/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/json/...

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/json/__init__.py", line 339, in loads
    raise TypeError(f'the JSON object must be str, bytes or bytearray, '

TypeError: the JSON object must be str, bytes or bytearray, not OpenAIObject
[23-08-22 14:16] core.chat: MessageHandler | Calling message handler.
[23-08-22 14:16] core.chat: chat | Starting chat process.
[23-08-22 14:16] core.chat: build_manifest | Building message package manifest.
[23-08-22 14:16] core.chat: chat | Sending message manifest.
[23-08-22 14:16] core.chat: chat | Processing function: {
  "name": "google_search",
  "arguments": "{\n  \"query\": \"htmx documentation\"\n}"
}
[23-08-22 14:16] core.processor: eval_function | Evaluating function call: google_search
[23-08-22 14:16] core.chat: chat | There was a problem delivering the message manifest: JSON
Traceback (most recent call last):

  File "/Users/kaechle/Library/Caches/pypoetry/virtualenvs/scint-tXXp93ol-py3.11/lib/python3.11/site-packages/openai/openai_object.py", line 59, in __getattr__
    return self[k]
           │    └ 'JSON'
           └ <OpenAIObject at 0x1071b7f50> JSON: {
               "name": "google_search",
               "arguments": "{\n  \"query\": \"htmx documentation\"\n}"
             }

KeyError: 'JSON'


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "/Users/kaechle/Developer/projects/scint/app.py", line 5, in <module>
    asyncio.run(run_cli())
    │       │   └ <function run_cli at 0x10716f1a0>
    │       └ <function run at 0x1053e3060>
    └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/as...

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object run_cli at 0x10712d120>
           │      └ <function Runner.run at 0x1053e7240>
           └ <asyncio.runners.Runner object at 0x104d9c410>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<run_cli() running at /Users/kaechle/Developer/projects/scint/core/cli.py:44> cb=[_run_until...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x1053e4ea0>
           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x104d9c410>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x1053e4e00>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x1053e6c00>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 1922, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10532cfe0>
    └ <Handle <TaskStepMethWrapper object at 0x106c1e7d0>()>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x106c1e7d0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x106c1e7d0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x106c1e7d0>()>

  File "/Users/kaechle/Developer/projects/scint/core/cli.py", line 44, in run_cli
    response = await chat(user_message)
                     │    └ 'Google the htmx docs for me'
                     └ <function chat at 0x105cc8680>

> File "/Users/kaechle/Developer/projects/scint/core/chat.py", line 75, in chat
    function_results = await eval_function(function_call)
                             │             └ <OpenAIObject at 0x1071b7f50> JSON: {
                             │                 "name": "google_search",
                             │                 "arguments": "{\n  \"query\": \"htmx documentation\"\n}"
                             │               }
                             └ <function eval_function at 0x106147c40>

  File "/Users/kaechle/Developer/projects/scint/core/processor.py", line 44, in eval_function
    function_json_str = function_call.JSON  # Accessing the JSON attribute
                        └ <OpenAIObject at 0x1071b7f50> JSON: {
                            "name": "google_search",
                            "arguments": "{\n  \"query\": \"htmx documentation\"\n}"
                          }

  File "/Users/kaechle/Library/Caches/pypoetry/virtualenvs/scint-tXXp93ol-py3.11/lib/python3.11/site-packages/openai/openai_object.py", line 61, in __getattr__
    raise AttributeError(*err.args)

AttributeError: JSON
[23-08-22 14:16] core.cli: run_cli | Error communicating with the assistant: JSON

Traceback (most recent call last):

  File "/Users/kaechle/Library/Caches/pypoetry/virtualenvs/scint-tXXp93ol-py3.11/lib/python3.11/site-packages/openai/openai_object.py", line 59, in __getattr__
    return self[k]
           │    └ 'JSON'
           └ <OpenAIObject at 0x1071b7f50> JSON: {
               "name": "google_search",
               "arguments": "{\n  \"query\": \"htmx documentation\"\n}"
             }

KeyError: 'JSON'


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "/Users/kaechle/Developer/projects/scint/app.py", line 5, in <module>
    asyncio.run(run_cli())
    │       │   └ <function run_cli at 0x10716f1a0>
    │       └ <function run at 0x1053e3060>
    └ <module 'asyncio' from '/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/as...

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object run_cli at 0x10712d120>
           │      └ <function Runner.run at 0x1053e7240>
           └ <asyncio.runners.Runner object at 0x104d9c410>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<run_cli() running at /Users/kaechle/Developer/projects/scint/core/cli.py:47> cb=[_run_until...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x1053e4ea0>
           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x104d9c410>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x1053e4e00>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x1053e6c00>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 1922, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10532cfe0>
    └ <Handle <TaskStepMethWrapper object at 0x106c1e7d0>()>

  File "/opt/homebrew/Cellar/python@3.11/3.11.4_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x106c1e7d0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x106c1e7d0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x106c1e7d0>()>

> File "/Users/kaechle/Developer/projects/scint/core/cli.py", line 44, in run_cli
    response = await chat(user_message)
                     │    └ 'Google the htmx docs for me'
                     └ <function chat at 0x105cc8680>

  File "/Users/kaechle/Developer/projects/scint/core/chat.py", line 75, in chat
    function_results = await eval_function(function_call)
                             │             └ <OpenAIObject at 0x1071b7f50> JSON: {
                             │                 "name": "google_search",
                             │                 "arguments": "{\n  \"query\": \"htmx documentation\"\n}"
                             │               }
                             └ <function eval_function at 0x106147c40>

  File "/Users/kaechle/Developer/projects/scint/core/processor.py", line 44, in eval_function
    function_json_str = function_call.JSON  # Accessing the JSON attribute
                        └ <OpenAIObject at 0x1071b7f50> JSON: {
                            "name": "google_search",
                            "arguments": "{\n  \"query\": \"htmx documentation\"\n}"
                          }

  File "/Users/kaechle/Library/Caches/pypoetry/virtualenvs/scint-tXXp93ol-py3.11/lib/python3.11/site-packages/openai/openai_object.py", line 61, in __getattr__
    raise AttributeError(*err.args)

AttributeError: JSON
[23-08-22 14:18] core.chat: MessageHandler | Calling message handler.
[23-08-22 14:18] core.chat: chat | Starting chat process.
[23-08-22 14:18] core.chat: build_manifest | Building message package manifest.
[23-08-22 14:18] core.chat: chat | Sending message manifest.
[23-08-22 14:18] core.chat: chat | Processing function: {
  "name": "google_search",
  "arguments": "{\n  \"query\": \"htmx documentation\"\n}"
}
[23-08-22 14:18] core.processor: eval_function | Evaluating function call: google_search
[23-08-22 14:18] core.data.providers.search: google | Running Google search query.
[23-08-22 14:18] core.chat: MessageHandler | Calling message handler.
[23-08-22 14:18] core.chat: chat | Starting chat process.
[23-08-22 14:18] core.chat: build_manifest | Building message package manifest.
[23-08-22 14:19] core.chat: chat | Sending message manifest.
[23-08-22 14:19] core.chat: chat | Processing function: {
  "name": "google_search",
  "arguments": "{\n  \"query\": \"htmx documentation\"\n}"
}
[23-08-22 14:19] core.processor: eval_function | Evaluating function call: google_search
[23-08-22 14:19] core.data.providers.search: google | Running Google search query.
[23-08-22 14:19] core.chat: MessageHandler | Calling message handler.
[23-08-22 14:19] core.chat: chat | Starting chat process.
[23-08-22 14:19] core.chat: build_manifest | Building message package manifest.
[23-08-22 14:19] core.chat: chat | Sending message manifest.
[23-08-22 14:19] core.chat: chat | Processing function: {
  "name": "google_search",
  "arguments": "{\n  \"query\": \"htmx documentation\"\n}"
}
[23-08-22 14:19] core.processor: eval_function | Evaluating function call: google_search
[23-08-22 14:19] core.data.providers.search: google | Running Google search query.
[23-08-22 14:19] core.chat: chat | Starting chat process.
[23-08-22 14:19] core.chat: build_manifest | Building message package manifest.
[23-08-22 14:27] core.chat: MessageHandler | Calling message handler.
[23-08-22 14:27] core.chat: chat | Starting chat process.
[23-08-22 14:27] core.chat: build_manifest | Building message package manifest.
[23-08-22 14:27] core.chat: chat | Sending message manifest.
[23-08-22 14:27] core.chat: chat | Processing function: {
  "name": "google_search",
  "arguments": "{\n  \"query\": \"htmx documentation\"\n}"
}
[23-08-22 14:27] core.processor: eval_function | Processing a function call.
[23-08-22 14:27] core.processor: eval_function | Evaluation google_search.
[23-08-22 14:27] core.data.providers.search: google | Running Google search query.
[23-08-22 14:27] core.chat: chat | Starting chat process.
[23-08-22 14:27] core.chat: build_manifest | Building message package manifest.
[23-08-22 14:28] core.chat: MessageHandler | Calling message handler.
[23-08-22 14:28] core.chat: chat | Starting chat process.
[23-08-22 14:28] core.chat: build_manifest | Building message package manifest.
[23-08-22 14:28] core.chat: chat | Sending message manifest.
[23-08-22 14:28] core.chat: chat | Processing function: {
  "name": "google_search",
  "arguments": "{\n  \"query\": \"htmx documentation\"\n}"
}
[23-08-22 14:28] core.processor: eval_function | Processing a function call.
[23-08-22 14:28] core.processor: eval_function | Evaluation google_search.
[23-08-22 14:28] core.data.providers.search: google | Running Google search query.
[23-08-22 14:28] core.chat: chat | Starting chat process.
[23-08-22 14:28] core.chat: build_manifest | Building message package manifest.
[23-08-22 14:28] core.chat: chat | Sending message manifest.
[23-08-22 14:28] core.chat: chat | Response received: The result of the function call you provided is `None`. In Python, `None` is a special constant that represents the absence of a value or a null value. 

It is an object of its own datatype, the NoneType. We cannot create multiple None objects but can assign it to variables. These variables will be equal to one another.

So, when you see `None` as a result, it typically means that the function didn't return any value.
[23-08-22 14:34] core.chat: MessageHandler | Calling message handler.
[23-08-22 14:34] core.chat: chat | Starting chat process.
[23-08-22 14:34] core.chat: build_manifest | Building message package manifest.
[23-08-22 14:34] core.chat: chat | Sending message manifest.
[23-08-22 14:34] core.chat: chat | Processing function: {
  "name": "google_search",
  "arguments": "{\n  \"query\": \"htmx documentation\"\n}"
}
[23-08-22 14:34] core.processor: eval_function | Processing a function call.
[23-08-22 14:34] core.processor: eval_function | Evaluation google_search.
[23-08-22 14:34] core.data.providers.search: google | Running Google search query.
[23-08-22 14:34] core.chat: chat | Starting chat process.
[23-08-22 14:34] core.chat: build_manifest | Building message package manifest.
[23-08-22 14:34] core.chat: chat | Sending message manifest.
[23-08-22 14:34] core.chat: chat | Response received: It appears the function call did not return any results, as the result is an empty list ([]). This could mean that the function executed successfully but didn't have any output to return, or that it didn't execute correctly. Without additional context, it's difficult to provide a more specific interpretation.
[23-08-22 14:38] core.chat: MessageHandler | Calling message handler.
[23-08-22 14:39] core.chat: chat | Starting chat process.
[23-08-22 14:39] core.chat: build_manifest | Building message package manifest.
[23-08-22 14:39] core.chat: chat | Sending message manifest.
[23-08-22 14:39] core.processor: eval_function | Processing a function call.
[23-08-22 14:39] core.processor: eval_function | Evaluating: google_search().
[23-08-22 14:39] core.data.providers.search: google | Running Google search query.
[23-08-22 14:39] core.chat: chat | Starting chat process.
[23-08-22 14:39] core.chat: build_manifest | Building message package manifest.
[23-08-22 14:39] core.chat: chat | Sending message manifest.
[23-08-22 14:39] core.chat: chat | Response received: It appears that the function call didn't return any data, as the result is an empty list ([]). This typically means that no results were found or generated by the function. Could you provide more context or details so I can assist you better?
[23-08-22 14:42] __main__: google | Running Google search query.
[23-08-22 14:44] __main__: google | Running Google search query.
[23-08-22 14:44] __main__: google | Running Google search query.
[23-08-22 14:44] core.chat: MessageHandler | Calling message handler.
[23-08-22 14:44] core.chat: chat | Starting chat process.
[23-08-22 14:44] core.chat: build_manifest | Building message package manifest.
[23-08-22 14:44] core.chat: chat | Sending message manifest.
[23-08-22 14:44] core.processor: eval_function | Processing a function call.
[23-08-22 14:44] core.processor: eval_function | Evaluating: google_search().
[23-08-22 14:44] core.data.providers.search: google | Running Google search query.
[23-08-22 14:44] core.chat: chat | Starting chat process.
[23-08-22 14:44] core.chat: build_manifest | Building message package manifest.
[23-08-22 14:45] core.chat: chat | Sending message manifest.
[23-08-22 14:45] core.chat: chat | Response received: The results are from a Google search, each represented as a dictionary with three keys: `title`, `url`, and `description`. Here's a breakdown of each result:

1. **Title**: 'bigskysoftware/htmx: htmx - high power tools for HTML - GitHub'
   **URL**: 'https://github.com/bigskysoftware/htmx'
   **Description**: 'Contribute to bigskysoftware/htmx development by creating an account on GitHub. ... All PRs should be made against the dev branch, except documentation PRs\xa0...'

2. **Title**: 'htmx:load event also triggers on initial page load but documentation ...'
   **URL**: 'https://github.com/bigskysoftware/htmx/issues/1500'
   **Description**: "Jun 16, 2023 ... The documentation for htmx.onLoad() and the htmx:load itself doesn't mention the event also triggers from the general DOM load event: On\xa0..."

3. **Title**: 'beajeanm/dream-htmx: Utilities methods for interacting with ... - GitHub'
   **URL**: 'https://github.com/beajeanm/dream-htmx'
   **Description**: 'See Htmx documentation for details about the functinality offered by this library. The latest documentation can be found at\xa0...'

4. **Title**: 'adamchainz/django-htmx: Extensions for using Django with ... - GitHub'
   **URL**: 'https://github.com/adamchainz/django-htmx'
   **Description**: 'Want to work smarter and faster? Check out my book Boost Your Django DX which covers many ways to improve your development experience. Documentation. Please see\xa0...'

And so on...

These results appear to be mostly from GitHub and seem related to HTMX (a library for HTML), its usage, associated issues, and repositories that use or interact with it.
[23-08-22 14:47] core.chat: MessageHandler | Calling message handler.
[23-08-22 14:48] core.chat: chat | Starting chat process.
[23-08-22 14:48] core.chat: build_manifest | Building message package manifest.
[23-08-22 14:48] core.chat: chat | Sending message manifest.
[23-08-22 14:48] core.chat: chat | Response received: Sure, we can use the `osascript` command in macOS to send native notifications. This can be invoked from Python using the `subprocess` module.

Here's a simple function that you can use:

```python
import subprocess

def notify_macos(title, message):
    script = f'''
    osascript -e 'display notification "{message}" with title "{title}"'
    '''
    subprocess.call(script, shell=True)
```

You can call this function with two arguments: the title of the notification and the message you want to display. For example:

```python
notify_macos('Test Notification', 'This is a test.')
```

Please note that I am an AI model running in a sandbox environment, which doesn't have access to your local system or its functions such as notifications. So I cannot execute this code here but you should be able to run it on your local Python environment.
[23-08-22 14:59] core.state: __init__ | Initializing application state.
[23-08-22 14:59] core.chat: MessageHandler | Calling message handler.
[23-08-22 14:59] core.state: __init__ | Initializing application state.
[23-08-22 15:01] core.state: __init__ | Initializing application state.
[23-08-22 15:01] core.chat: MessageHandler | Calling message handler.
[23-08-22 15:01] core.state: __init__ | Initializing application state.
[23-08-22 15:01] core.observer: __init__ | Initializing observer.
[23-08-22 15:01] core.state: __init__ | Initializing application state.
[23-08-22 15:01] core.observer: __init__ | Initializing observer.
[23-08-22 15:02] core.state: __init__ | Initializing application state.
[23-08-22 15:02] core.chat: MessageHandler | Calling message handler.
[23-08-22 15:02] core.state: __init__ | Initializing application state.
[23-08-22 15:02] core.observer: __init__ | Initializing observer.
[23-08-22 15:02] core.state: __init__ | Initializing application state.
[23-08-22 15:02] core.observer: __init__ | Initializing observer.
[23-08-22 15:04] core.state: __init__ | Initializing application state: idle.
[23-08-22 15:04] core.chat: MessageHandler | Calling message handler.
[23-08-22 15:04] core.state: __init__ | Initializing application state: idle.
[23-08-22 15:04] core.observer: __init__ | Initializing observer.
[23-08-22 15:04] core.observer: email_observer | Email observer active.
[23-08-22 15:04] core.observer: messaging_observer | Messaging observer active.
[23-08-22 15:04] core.observer: site_observer | Site observer active, monitoring: ['Upwork', 'Twitter', 'LinkedIn'].
[23-08-22 15:04] core.state: __init__ | Initializing application state: idle.
[23-08-22 15:04] core.observer: __init__ | Initializing observer.
[23-08-22 15:04] core.observer: email_observer | Email observer active.
[23-08-22 15:04] core.observer: messaging_observer | Messaging observer active.
[23-08-22 15:04] core.observer: site_observer | Site observer active, monitoring: ['Upwork', 'Twitter', 'LinkedIn'].
[23-08-22 15:07] core.chat: MessageHandler | Calling message handler.
[23-08-22 15:07] core.state: __init__ | Initializing application state: idle.
[23-08-22 15:07] core.observer: __init__ | Initializing observer.
[23-08-22 15:07] core.observer: email_observer | Email observer active.
[23-08-22 15:07] core.observer: messaging_observer | Messaging observer active.
[23-08-22 15:07] core.observer: site_observer | Site observer active, monitoring: ['Upwork', 'Twitter', 'LinkedIn'].
[23-08-22 15:07] core.state: __init__ | Initializing application state: idle.
[23-08-22 15:07] core.observer: __init__ | Initializing observer.
[23-08-22 15:07] core.observer: email_observer | Email observer active.
[23-08-22 15:07] core.observer: messaging_observer | Messaging observer active.
[23-08-22 15:07] core.observer: site_observer | Site observer active, monitoring: ['Upwork', 'Twitter', 'LinkedIn'].
[23-08-22 15:07] core.chat: MessageHandler | Calling message handler.
[23-08-22 15:07] core.state: __init__ | Initializing application state: idle.
[23-08-22 15:07] core.observer: __init__ | Initializing observer.
[23-08-22 15:07] core.observer: email_observer | Email observer active.
[23-08-22 15:07] core.observer: messaging_observer | Messaging observer active.
[23-08-22 15:07] core.observer: site_observer | Site observer active, monitoring: ['Upwork', 'Twitter', 'LinkedIn'].
